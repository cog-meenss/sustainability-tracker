#!/bin/bash
# ğŸš€ Complete Guide: How to Run Sustainability Analysis

echo "ğŸŒ± How to Run Sustainability Analysis - Complete Guide"
echo "===================================================="
echo ""

echo "ğŸ¯ You have 4 ways to run the sustainability analysis:"
echo ""

# Option 1: Local Testing (Immediate)
echo "1ï¸âƒ£  LOCAL TESTING (Run Now - 2 minutes)"
echo "======================================="
echo "   Test the analysis on your local machine:"
echo ""
echo "   ğŸ“‚ Change to project directory:"
echo "   cd /Users/159645/Meena/Projects/vibe-coding/Tracker"
echo ""
echo "   ğŸš€ Run local pipeline test:"
echo "   ./sustainability-analyzer/test-pipeline.sh"
echo ""
echo "   ğŸ“Š View visual dashboard:"
echo "   open sustainability-analyzer/pipeline-test-output/dashboard.html"
echo ""
echo "   âœ¨ This generates demo reports with sample data!"
echo ""

# Option 2: Azure DevOps Pipeline (Recommended)
echo "2ï¸âƒ£  AZURE DEVOPS PIPELINE (Recommended Production Method)"
echo "========================================================"
echo ""
echo "   Step A: Create Pipeline in Azure DevOps Portal"
echo "   ---------------------------------------------"
echo "   1. Go to Azure DevOps â†’ Pipelines â†’ New Pipeline"
echo "   2. Select your repository source (GitHub/Azure Repos)"
echo "   3. Choose 'Existing Azure Pipelines YAML file'"
echo "   4. Select: azure-pipelines.yml"
echo "   5. Click 'Run'"
echo ""
echo "   Step B: Configure Variables (Optional)"
echo "   ------------------------------------"
echo "   â€¢ Go to Pipeline â†’ Edit â†’ Variables"
echo "   â€¢ Add: sustainabilityThreshold = 75"
echo "   â€¢ Add: TeamsWebhookUrl = <your-webhook>"
echo ""
echo "   Step C: Pipeline Runs Automatically On:"
echo "   -------------------------------------"
echo "   âœ… Push to main/develop branches"
echo "   âœ… Pull requests"
echo "   âœ… Weekly schedule (Monday 2 AM UTC)"
echo "   âœ… Manual triggers"
echo ""

# Option 3: Azure CLI (Command Line)
echo "3ï¸âƒ£  AZURE CLI (Command Line Method)"
echo "==================================="
echo ""
echo "   ğŸ“‹ Prerequisites:"
echo "   â€¢ Install Azure CLI: brew install azure-cli"
echo "   â€¢ Login: az login"
echo "   â€¢ Set project: az devops configure --defaults organization=<org> project=<project>"
echo ""
echo "   ğŸ”¨ Create Pipeline:"
echo "   az pipelines create \\"
echo "     --name \"Sustainability-Analysis\" \\"
echo "     --description \"Code sustainability evaluation\" \\"
echo "     --repository Tracker \\"
echo "     --branch main \\"
echo "     --yaml-path azure-pipelines.yml"
echo ""
echo "   â–¶ï¸  Run Pipeline:"
echo "   az pipelines run --name \"Sustainability-Analysis\""
echo ""
echo "   ğŸ“Š Check Results:"
echo "   az pipelines runs list --top 1"
echo ""

# Option 4: Manual Analysis (Advanced)
echo "4ï¸âƒ£  MANUAL ANALYSIS (Advanced/Custom)"
echo "===================================="
echo ""
echo "   Run individual components manually:"
echo ""
echo "   ğŸ” Core Analysis:"
echo "   python3 sustainability-analyzer/analyzer/sustainability_analyzer.py \\"
echo "     --path . \\"
echo "     --output analysis.json \\"
echo "     --format json"
echo ""
echo "   ğŸ¨ Generate Visual Dashboard:"
echo "   python3 sustainability-analyzer/dashboard/visual_dashboard_generator.py \\"
echo "     --input analysis.json \\"
echo "     --output dashboard.html"
echo ""
echo "   ğŸ“‹ Generate Data Tables:"
echo "   python3 sustainability-analyzer/dashboard/data_tables_generator.py \\"
echo "     --input analysis.json \\"
echo "     --output tables.html"
echo ""

echo "ğŸŠ WHAT YOU GET FROM EACH METHOD:"
echo "================================="
echo ""
echo "ğŸ“Š Generated Reports:"
echo "   â€¢ Interactive Visual Dashboard with charts"
echo "   â€¢ Advanced Data Tables with filtering/export"
echo "   â€¢ Executive Summary PDF"
echo "   â€¢ Raw JSON analysis data"
echo ""
echo "ğŸ¯ Key Metrics Analyzed:"
echo "   â€¢ Overall Sustainability Score (/100)"
echo "   â€¢ Energy Efficiency (/100)"
echo "   â€¢ Resource Utilization (/100)"
echo "   â€¢ Carbon Footprint (/100)"
echo "   â€¢ Performance Optimization (/100)"
echo "   â€¢ Sustainable Practices (/100)"
echo ""
echo "âœ… Quality Gates:"
echo "   â€¢ Pass/Fail based on thresholds"
echo "   â€¢ Automated recommendations"
echo "   â€¢ Issue identification and fixes"
echo ""

echo "ğŸš€ QUICK START RECOMMENDATION:"
echo "=============================="
echo ""
echo "ğŸ‘‰ START HERE (Takes 2 minutes):"
echo ""
echo "   1. Test locally first:"
echo "      ./sustainability-analyzer/test-pipeline.sh"
echo ""
echo "   2. View the results:"
echo "      open sustainability-analyzer/pipeline-test-output/index.html"
echo ""
echo "   3. Then set up Azure DevOps pipeline for production"
echo ""
echo "ğŸ¯ This gives you immediate results and shows exactly"
echo "   what the pipeline will generate!"
echo ""

echo "ğŸ“š DOCUMENTATION:"
echo "================="
echo "   ğŸ“– Setup Guide: sustainability-analyzer/PIPELINE_SETUP.md"
echo "   ğŸš€ Quick Start: sustainability-analyzer/PIPELINE_QUICKSTART.md"
echo "   ğŸ§ª Local Demo: sustainability-analyzer/dashboard/demo_output/"
echo ""

echo "âœ¨ Ready to run sustainability analysis!"
echo "   Choose your preferred method above and get started! ğŸŒ±"