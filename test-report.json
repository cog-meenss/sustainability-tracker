{
  "report_metadata": {
    "title": "Comprehensive Sustainable Code Evaluation",
    "generated_at": "2025-11-11T22:38:23.207690",
    "analysis_time": 29.62753176689148,
    "project_path": "/Users/159645/Meena/Projects/vibe-coding/Tracker",
    "report_version": "2.0.0"
  },
  "executive_summary": {
    "overall_health": "\ud83d\udd34 Needs Improvement",
    "key_findings": [
      "Overall sustainability score: 26.3/100",
      "Energy efficiency: 43.8/100",
      "Code quality: 39.9/100",
      "Total files analyzed: 30",
      "Performance issues detected: 870"
    ],
    "critical_areas": [
      "Lack of asynchronous patterns affecting performance"
    ],
    "improvement_potential": "73.7 points available"
  },
  "sustainability_metrics": {
    "overall_score": 26.29464429719301,
    "energy_efficiency": 43.7875,
    "resource_utilization": 47.52777777777778,
    "performance_optimization": 49.86666666666667,
    "sustainable_practices": 90,
    "code_quality": 39.86666666666667,
    "dependency_efficiency": 100,
    "maintainability": 100,
    "green_coding_score": 100.0,
    "cpu_efficiency": 100,
    "memory_efficiency": 100,
    "energy_saving_practices": 100
  },
  "detailed_analysis": {
    "code_patterns": {
      "async_patterns": 4,
      "loop_optimizations": 312,
      "memory_leaks": 0,
      "inefficient_queries": 4,
      "large_imports": 0,
      "console_logs": 5,
      "error_handling": 327,
      "caching_patterns": 245
    },
    "green_coding_analysis": {
      "green_patterns": {
        "cpu_efficient_algorithms": 572,
        "memory_optimization": 79,
        "efficient_data_structures": 11,
        "lazy_loading": 25,
        "database_optimization": 95,
        "resource_cleanup": 164,
        "parallel_processing": 6,
        "compression_usage": 20,
        "efficient_loops": 52,
        "minimal_dependencies": 295
      },
      "wasteful_patterns": {
        "inefficient_algorithms": 0,
        "memory_waste": 10,
        "excessive_logging": 65,
        "blocking_operations": 1,
        "redundant_computation": 0,
        "large_file_operations": 0
      },
      "cpu_efficiency_score": 100,
      "memory_efficiency_score": 100,
      "energy_saving_score": 100,
      "file_issues": [
        {
          "file": "job_summary_script.py",
          "lines_of_code": 156,
          "issues": [],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 5,
              "content": "with open('comprehensive_sustainability_data.json', 'r') as f:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 12,
              "content": "# Create enhanced GitHub Actions job summary with comprehensive data",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 139,
              "content": "| \ud83c\udfa8 **HTML Interactive** | Advanced dashboard with Chart.js visualizations | Download `comprehensive-reports` artifact |",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 147,
              "content": "*{metadata['generated_at'][:19]} \u2022 Advanced Analysis with Visualisations*",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 153,
              "content": "with open(os.environ['GITHUB_STEP_SUMMARY'], 'w') as f:",
              "severity": "good"
            },
            {
              "type": "parallel_processing",
              "line": 37,
              "content": "patterns.get('async_patterns', 0),",
              "severity": "good"
            },
            {
              "type": "parallel_processing",
              "line": 90,
              "content": "| **Async Operations** | **{patterns.get('async_patterns', 0)}** | {get_issue_status(patterns.get('async_patterns', 0))} | \ud83d\udd04 Concurrency |",
              "severity": "good"
            },
            {
              "type": "parallel_processing",
              "line": 90,
              "content": "| **Async Operations** | **{patterns.get('async_patterns', 0)}** | {get_issue_status(patterns.get('async_patterns', 0))} | \ud83d\udd04 Concurrency |",
              "severity": "good"
            },
            {
              "type": "parallel_processing",
              "line": 90,
              "content": "| **Async Operations** | **{patterns.get('async_patterns', 0)}** | {get_issue_status(patterns.get('async_patterns', 0))} | \ud83d\udd04 Concurrency |",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 116,
              "content": "recommendations.append(\"\ud83d\udfe2 **Low**: Improve code maintainability for long-term sustainability\")",
              "severity": "good"
            }
          ],
          "green_score": 150
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/__init__.py",
          "lines_of_code": 13,
          "issues": [],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from pip._internal.utils.entrypoints import _wrapper",
              "severity": "good"
            }
          ],
          "green_score": 110
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/__pip-runner__.py",
          "lines_of_code": 50,
          "issues": [],
          "improvements": [
            {
              "type": "efficient_loops",
              "line": 16,
              "content": "return \".\".join(str(v) for v in version)",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 30,
              "content": "from importlib.machinery import PathFinder  # noqa: E402",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 31,
              "content": "from os.path import dirname  # noqa: E402",
              "severity": "good"
            }
          ],
          "green_score": 115
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/__main__.py",
          "lines_of_code": 24,
          "issues": [],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._internal.cli.main import main as _main",
              "severity": "good"
            }
          ],
          "green_score": 105
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/configuration.py",
          "lines_of_code": 396,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 241,
              "content": "logger.debug(\"Will be working with %s variant only\", self.load_only)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 259,
              "content": "logger.debug(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 270,
              "content": "logger.debug(\"Skipping file '%s' (variant: %s)\", fname, variant)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 279,
              "content": "logger.verbose(\"For variant '%s', will try loading '%s'\", variant, fname)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "memory_optimization",
              "line": 210,
              "content": "del self._config[self.load_only][fname][key]",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 212,
              "content": "del self._config[self.load_only][key]",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 332,
              "content": "\"\"\"Returns a generator with all environmental vars with prefix PIP_\"\"\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 337,
              "content": "yield name, val",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 341,
              "content": "\"\"\"Yields variant and configuration files associated with it.",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 354,
              "content": "yield kinds.GLOBAL, config_files[kinds.GLOBAL]",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 362,
              "content": "yield kinds.USER, config_files[kinds.USER]",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 365,
              "content": "yield kinds.SITE, config_files[kinds.SITE]",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 368,
              "content": "yield kinds.ENV, [env_config_file]",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 370,
              "content": "yield kinds.ENV, []",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 174,
              "content": "parser.set(section, name, value)",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 332,
              "content": "\"\"\"Returns a generator with all environmental vars with prefix PIP_\"\"\"",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 136,
              "content": "except IndexError:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 7,
              "content": "Value associated with a name",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 9,
              "content": "Name combined with it's section (section.name)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 95,
              "content": "keys and stores the value associated with it as \"key-name\" under the",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 131,
              "content": "\"\"\"Returns the file with highest priority in configuration\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 226,
              "content": "with open(fname, \"w\") as f:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 241,
              "content": "logger.debug(\"Will be working with %s variant only\", self.load_only)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 320,
              "content": "\"\"\"Normalizes items to construct a dictionary with normalized keys.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 332,
              "content": "\"\"\"Returns a generator with all environmental vars with prefix PIP_\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 332,
              "content": "\"\"\"Returns a generator with all environmental vars with prefix PIP_\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 341,
              "content": "\"\"\"Yields variant and configuration files associated with it.",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 72,
              "content": "os.path.join(path, CONFIG_BASENAME) for path in appdirs.site_config_dirs(\"pip\")",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 117,
              "content": "variant: [] for variant in OVERRIDE_ORDER",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 279,
              "content": "logger.verbose(\"For variant '%s', will try loading '%s'\", variant, fname)",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from collections.abc import Iterable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from typing import Any, NewType",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 27,
              "content": "from pip._internal.utils import appdirs",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 28,
              "content": "from pip._internal.utils.compat import WINDOWS",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 29,
              "content": "from pip._internal.utils.logging import getLogger",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 30,
              "content": "from pip._internal.utils.misc import ensure_dir, enum",
              "severity": "good"
            }
          ],
          "green_score": 205
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/pyproject.py",
          "lines_of_code": 123,
          "issues": [],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 63,
              "content": "with open(pyproject_toml, encoding=\"utf-8\") as f:",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 19,
              "content": "return isinstance(obj, list) and all(isinstance(item, str) for item in obj)",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 4,
              "content": "from collections import namedtuple",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from typing import Any",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from pip._vendor.packaging.requirements import InvalidRequirement",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._internal.utils.compat import tomllib",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._internal.utils.packaging import get_requirement",
              "severity": "good"
            }
          ],
          "green_score": 140
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/cache.py",
          "lines_of_code": 291,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 147,
              "content": "logger.debug(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 1,
              "content": "\"\"\"Cache Management\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 5,
              "content": "import hashlib",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 27,
              "content": "def _hash_dict(d: dict[str, str]) -> str:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 30,
              "content": "return hashlib.sha224(s.encode(\"ascii\")).hexdigest()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 33,
              "content": "class Cache:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 34,
              "content": "\"\"\"An abstract class - provides cache directories for data from links",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 36,
              "content": ":param cache_dir: The root of the cache.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 36,
              "content": ":param cache_dir: The root of the cache.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 39,
              "content": "def __init__(self, cache_dir: str) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 41,
              "content": "assert not cache_dir or os.path.isabs(cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 41,
              "content": "assert not cache_dir or os.path.isabs(cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "self.cache_dir = cache_dir or None",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "self.cache_dir = cache_dir or None",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 44,
              "content": "def _get_cache_path_parts(self, link: Link) -> list[str]:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 45,
              "content": "\"\"\"Get parts of part that must be os.path.joined with cache_dir\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 47,
              "content": "# We want to generate an url to use as our cache key, we don't want to",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 51,
              "content": "if link.hash_name is not None and link.hash is not None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 51,
              "content": "if link.hash_name is not None and link.hash is not None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 52,
              "content": "key_parts[link.hash_name] = link.hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 52,
              "content": "key_parts[link.hash_name] = link.hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 56,
              "content": "# Include interpreter name, major and minor version in cache key",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 68,
              "content": "hashed = _hash_dict(key_parts)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 68,
              "content": "hashed = _hash_dict(key_parts)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 73,
              "content": "parts = [hashed[:2], hashed[2:4], hashed[4:6], hashed[6:]]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 73,
              "content": "parts = [hashed[:2], hashed[2:4], hashed[4:6], hashed[6:]]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 73,
              "content": "parts = [hashed[:2], hashed[2:4], hashed[4:6], hashed[6:]]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 73,
              "content": "parts = [hashed[:2], hashed[2:4], hashed[4:6], hashed[6:]]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 78,
              "content": "can_not_cache = not self.cache_dir or not canonical_package_name or not link",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 78,
              "content": "can_not_cache = not self.cache_dir or not canonical_package_name or not link",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 79,
              "content": "if can_not_cache:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 88,
              "content": "\"\"\"Return a directory to store cached items in for link.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 97,
              "content": "\"\"\"Returns a link to a cached item if it exists, otherwise returns the",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 103,
              "content": "class SimpleWheelCache(Cache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 103,
              "content": "class SimpleWheelCache(Cache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 104,
              "content": "\"\"\"A cache of wheels for future installs.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 106,
              "content": "def __init__(self, cache_dir: str) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 107,
              "content": "super().__init__(cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 110,
              "content": "\"\"\"Return a directory to store cached wheels for link",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 113,
              "content": "to cache them in, and then consult that directory when looking up",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 114,
              "content": "cache hits.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 116,
              "content": "We only insert things into the cache if they have plausible version",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 117,
              "content": "numbers, so that we don't contaminate the cache with things that were",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 119,
              "content": "and build a version of 0.0...and if we built and cached a wheel, we'd",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 122,
              "content": ":param link: The link of the sdist for which this will cache wheels.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 124,
              "content": "parts = self._get_cache_path_parts(link)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 125,
              "content": "assert self.cache_dir",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 126,
              "content": "# Store wheels within the root cache_dir",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 127,
              "content": "return os.path.join(self.cache_dir, \"wheels\", *parts)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 148,
              "content": "\"Ignoring cached wheel %s for %s as it \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 173,
              "content": "class EphemWheelCache(SimpleWheelCache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 173,
              "content": "class EphemWheelCache(SimpleWheelCache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 174,
              "content": "\"\"\"A SimpleWheelCache that creates it's own temporary cache directory\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 174,
              "content": "\"\"\"A SimpleWheelCache that creates it's own temporary cache directory\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 178,
              "content": "kind=tempdir_kinds.EPHEM_WHEEL_CACHE,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 185,
              "content": "class CacheEntry:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 202,
              "content": "\"Ignoring invalid cache entry origin file %s for %s (%s)\",",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 209,
              "content": "class WheelCache(Cache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 209,
              "content": "class WheelCache(Cache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 210,
              "content": "\"\"\"Wraps EphemWheelCache and SimpleWheelCache into a single Cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 210,
              "content": "\"\"\"Wraps EphemWheelCache and SimpleWheelCache into a single Cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 210,
              "content": "\"\"\"Wraps EphemWheelCache and SimpleWheelCache into a single Cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 212,
              "content": "This Cache allows for gracefully degradation, using the ephem wheel cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 212,
              "content": "This Cache allows for gracefully degradation, using the ephem wheel cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 213,
              "content": "when a certain link is not found in the simple wheel cache first.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 216,
              "content": "def __init__(self, cache_dir: str) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 217,
              "content": "super().__init__(cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 218,
              "content": "self._wheel_cache = SimpleWheelCache(cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 218,
              "content": "self._wheel_cache = SimpleWheelCache(cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 218,
              "content": "self._wheel_cache = SimpleWheelCache(cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 219,
              "content": "self._ephem_cache = EphemWheelCache()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 219,
              "content": "self._ephem_cache = EphemWheelCache()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 222,
              "content": "return self._wheel_cache.get_path_for_link(link)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 225,
              "content": "return self._ephem_cache.get_path_for_link(link)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 233,
              "content": "cache_entry = self.get_cache_entry(link, package_name, supported_tags)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 233,
              "content": "cache_entry = self.get_cache_entry(link, package_name, supported_tags)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 234,
              "content": "if cache_entry is None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 236,
              "content": "return cache_entry.link",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 238,
              "content": "def get_cache_entry(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 243,
              "content": ") -> CacheEntry | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 244,
              "content": "\"\"\"Returns a CacheEntry with a link to a cached item if it exists or",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 244,
              "content": "\"\"\"Returns a CacheEntry with a link to a cached item if it exists or",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 245,
              "content": "None. The cache entry indicates if the item was found in the persistent",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 246,
              "content": "or ephemeral cache.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 248,
              "content": "retval = self._wheel_cache.get(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 254,
              "content": "return CacheEntry(retval, persistent=True)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 256,
              "content": "retval = self._ephem_cache.get(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 262,
              "content": "return CacheEntry(retval, persistent=False)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 267,
              "content": "def record_download_origin(cache_dir: str, download_info: DirectUrl) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 268,
              "content": "origin_path = Path(cache_dir) / ORIGIN_JSON_NAME",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 274,
              "content": "\"Could not read origin file %s in cache entry (%s). \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 284,
              "content": "\"Origin URL %s in cache entry %s does not match download URL \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 285,
              "content": "\"%s. This is likely a pip bug or a cache corruption issue. \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 288,
              "content": "cache_dir,",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 160,
              "content": "wheel.support_index_min(supported_tags),",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 45,
              "content": "\"\"\"Get parts of part that must be os.path.joined with cache_dir\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 57,
              "content": "# to cope with ill-behaved sdists that build a different wheel",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 64,
              "content": "# Encode our key url with sha224, we'll use this because it has similar",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 65,
              "content": "# security properties to sha256, but with a shorter total output (and",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 117,
              "content": "numbers, so that we don't contaminate the cache with things that were",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 244,
              "content": "\"\"\"Returns a CacheEntry with a link to a cached item if it exists or",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 286,
              "content": "\"Will overwrite it with the new value.\",",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 84,
              "content": "return [(candidate, path) for candidate in os.listdir(path)]",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from pathlib import Path",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from typing import Any",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from pip._vendor.packaging.tags import Tag, interpreter_name, interpreter_version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from pip._vendor.packaging.utils import canonicalize_name",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._internal.exceptions import InvalidWheelFilename",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from pip._internal.models.direct_url import DirectUrl",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from pip._internal.models.link import Link",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip._internal.models.wheel import Wheel",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from pip._internal.utils.temp_dir import TempDirectory, tempdir_kinds",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from pip._internal.utils.urls import path_to_url",
              "severity": "good"
            }
          ],
          "green_score": 650
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/__init__.py",
          "lines_of_code": 18,
          "issues": [],
          "improvements": [
            {
              "type": "efficient_loops",
              "line": 5,
              "content": "# init_logging() must be called before any call to logging.getLogger()",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from pip._internal.utils import _log",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from pip._internal.utils.entrypoints import _wrapper",
              "severity": "good"
            }
          ],
          "green_score": 120
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/exceptions.py",
          "lines_of_code": 898,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 754,
              "content": "from pip._internal.utils._log import VERBOSE",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 756,
              "content": "exc_info = logger.isEnabledFor(VERBOSE)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 28,
              "content": "from hashlib import _Hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 28,
              "content": "from hashlib import _Hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 451,
              "content": "class HashErrors(InstallationError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 452,
              "content": "\"\"\"Multiple HashError instances rolled into one for reporting\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 455,
              "content": "self.errors: list[HashError] = []",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 457,
              "content": "def append(self, error: HashError) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 474,
              "content": "class HashError(InstallationError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 476,
              "content": "A failure to verify a package against known-good hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 478,
              "content": ":cvar order: An int sorting hash exception classes by difficulty of",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 520,
              "content": "class VcsHashUnsupported(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 520,
              "content": "class VcsHashUnsupported(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 521,
              "content": "\"\"\"A hash was provided for a version-control-system-based requirement, but",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 522,
              "content": "we don't have a method for hashing those.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 526,
              "content": "\"Can't verify hashes for these requirements because we don't \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 527,
              "content": "\"have a way to hash version control repositories:\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 531,
              "content": "class DirectoryUrlHashUnsupported(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 531,
              "content": "class DirectoryUrlHashUnsupported(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 532,
              "content": "\"\"\"A hash was provided for a version-control-system-based requirement, but",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 533,
              "content": "we don't have a method for hashing those.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 537,
              "content": "\"Can't verify hashes for these file:// requirements because they \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 542,
              "content": "class HashMissing(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 542,
              "content": "class HashMissing(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 543,
              "content": "\"\"\"A hash was needed for a requirement but is absent.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 547,
              "content": "\"Hashes are required in --require-hashes mode, but they are \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 547,
              "content": "\"Hashes are required in --require-hashes mode, but they are \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 549,
              "content": "\"requirements along with the hashes their downloaded archives \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 551,
              "content": "\"prevent tampering. (If you did not enable --require-hashes \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 553,
              "content": "\"has a hash.)\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 556,
              "content": "def __init__(self, gotten_hash: str) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 558,
              "content": ":param gotten_hash: The hash of the (possibly malicious) archive we",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 558,
              "content": ":param gotten_hash: The hash of the (possibly malicious) archive we",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 561,
              "content": "self.gotten_hash = gotten_hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 561,
              "content": "self.gotten_hash = gotten_hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 565,
              "content": "from pip._internal.utils.hashes import FAVORITE_HASH",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 565,
              "content": "from pip._internal.utils.hashes import FAVORITE_HASH",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 579,
              "content": "return \"    {} --hash={}:{}\".format(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 580,
              "content": "package or \"unknown package\", FAVORITE_HASH, self.gotten_hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 580,
              "content": "package or \"unknown package\", FAVORITE_HASH, self.gotten_hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 584,
              "content": "class HashUnpinned(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 584,
              "content": "class HashUnpinned(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 585,
              "content": "\"\"\"A requirement had a hash specified but was not pinned to a specific",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 590,
              "content": "\"In --require-hashes mode, all requirements must have their \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 595,
              "content": "class HashMismatch(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 595,
              "content": "class HashMismatch(HashError):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 597,
              "content": "Distribution file hash values don't match.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 599,
              "content": ":ivar package_name: The name of the package that triggered the hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 607,
              "content": "\"THESE PACKAGES DO NOT MATCH THE HASHES FROM THE REQUIREMENTS \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 609,
              "content": "\"the hashes. Otherwise, examine the package contents carefully; \"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 613,
              "content": "def __init__(self, allowed: dict[str, list[str]], gots: dict[str, _Hash]) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 617,
              "content": ":param gots: A dict of algorithm names pointing to hashes we",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 624,
              "content": "return f\"    {self._requirement_name()}:\\n{self._hash_comparison()}\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 626,
              "content": "def _hash_comparison(self) -> str:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 628,
              "content": "Return a comparison of actual and expected hash values.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 638,
              "content": "def hash_then_or(hash_name: str) -> chain[str]:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 638,
              "content": "def hash_then_or(hash_name: str) -> chain[str]:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 639,
              "content": "# For now, all the decent hashes have 6-char names, so we can get",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 641,
              "content": "return chain([hash_name], repeat(\"    or\"))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 644,
              "content": "for hash_name, expecteds in self.allowed.items():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 645,
              "content": "prefix = hash_then_or(hash_name)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 645,
              "content": "prefix = hash_then_or(hash_name)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 648,
              "content": "f\"             Got        {self.gots[hash_name].hexdigest()}\\n\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 128,
              "content": "yield f\"[{colour} bold]{self.kind}[/]: [bold]{self.reference}[/]\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 129,
              "content": "yield \"\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 134,
              "content": "yield _prefix_with_indent(",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 140,
              "content": "yield _prefix_with_indent(",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 147,
              "content": "yield _prefix_with_indent(",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 154,
              "content": "yield self.message",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 156,
              "content": "yield \"\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 157,
              "content": "yield self.context",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 160,
              "content": "yield \"\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 163,
              "content": "yield _prefix_with_indent(",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 170,
              "content": "yield _prefix_with_indent(",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 178,
              "content": "yield \"\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 179,
              "content": "yield f\"Link: {self.link}\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 731,
              "content": "yield f\"Error-{lang}\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 736,
              "content": "yield f\"Error-{before}\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 737,
              "content": "yield \"Error\"",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 849,
              "content": "hint = \"Use --resume-retries to configure resume attempt limit.\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 72,
              "content": "additional context, a hint and/or a note -- which are presented with the",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 132,
              "content": "# Present the main message, with relevant context indented.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 222,
              "content": "note_stmt=\"This is an issue with the package mentioned above, not pip.\",",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 239,
              "content": "note_stmt=\"This is an issue with the package mentioned above, not pip.\",",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 320,
              "content": "Initialize NetworkConnectionError with  `request` and `response`",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 421,
              "content": "\"problem with pip.\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 429,
              "content": "return f\"{self.command_description} exited with {self.exit_code}\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 444,
              "content": "note_stmt=\"This is an issue with the package mentioned above, not pip.\",",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 549,
              "content": "\"requirements along with the hashes their downloaded archives \"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 591,
              "content": "\"versions pinned with ==. These do not:\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 610,
              "content": "\"someone may have tampered with them.\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 640,
              "content": "# away with hard-coding space literals.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 684,
              "content": "the Python installation to interact with this environment instead.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 749,
              "content": "with contextlib.suppress(KeyError):",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 826,
              "content": "\"Starting with pip 24.1, packages with invalid \"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 826,
              "content": "\"Starting with pip 24.1, packages with invalid \"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 863,
              "content": "note_stmt=\"This is an issue with network connectivity, not pip.\",",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 281,
              "content": "before = \", \".join(str(a) for a in self.args[:-1])",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 465,
              "content": "lines.extend(e.body() for e in errors_of_cls)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 646,
              "content": "lines.extend((f\"        Expected {next(prefix)} {e}\") for e in expecteds)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 770,
              "content": "(f\"pip install --force-reinstall --no-deps {dep}\", \"green\"),",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 896,
              "content": "context=\", \".join(r.name for r in failed),  # type: ignore",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from collections.abc import Iterator",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from itertools import chain, groupby, repeat",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from typing import TYPE_CHECKING, Literal",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from pip._vendor.packaging.requirements import InvalidRequirement",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._vendor.packaging.version import InvalidVersion",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 23,
              "content": "from pip._vendor.rich.console import Console, ConsoleOptions, RenderResult",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._vendor.rich.markup import escape",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 25,
              "content": "from pip._vendor.rich.text import Text",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 28,
              "content": "from hashlib import _Hash",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 30,
              "content": "from pip._vendor.requests.models import Request, Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 32,
              "content": "from pip._internal.metadata import BaseDistribution",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 33,
              "content": "from pip._internal.network.download import _FileDownload",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 34,
              "content": "from pip._internal.req.req_install import InstallRequirement",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 565,
              "content": "from pip._internal.utils.hashes import FAVORITE_HASH",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 754,
              "content": "from pip._internal.utils._log import VERBOSE",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 841,
              "content": "from pip._internal.utils.misc import format_size",
              "severity": "good"
            }
          ],
          "green_score": 655
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/main.py",
          "lines_of_code": 12,
          "issues": [],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from pip._internal.utils.entrypoints import _wrapper",
              "severity": "good"
            }
          ],
          "green_score": 110
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/wheel_builder.py",
          "lines_of_code": 261,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 14,
              "content": "from pip._internal.cache import WheelCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 14,
              "content": "from pip._internal.cache import WheelCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 23,
              "content": "from pip._internal.utils.misc import ensure_dir, hash_file",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "def _should_cache(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 47,
              "content": "wheel cache, assuming the wheel cache is available.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 47,
              "content": "wheel cache, assuming the wheel cache is available.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 50,
              "content": "# never cache editable requirements",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 54,
              "content": "# VCS checkout. Do not cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 55,
              "content": "# unless it points to an immutable commit hash.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 69,
              "content": "# Otherwise, do not cache.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 73,
              "content": "def _get_cache_dir(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 75,
              "content": "wheel_cache: WheelCache,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 75,
              "content": "wheel_cache: WheelCache,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 77,
              "content": "\"\"\"Return the persistent or temporary cache directory where the built",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 80,
              "content": "cache_available = bool(wheel_cache.cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 80,
              "content": "cache_available = bool(wheel_cache.cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 80,
              "content": "cache_available = bool(wheel_cache.cache_dir)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "if cache_available and _should_cache(req):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "if cache_available and _should_cache(req):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 83,
              "content": "cache_dir = wheel_cache.get_path_for_link(req.link)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 83,
              "content": "cache_dir = wheel_cache.get_path_for_link(req.link)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "cache_dir = wheel_cache.get_ephem_path_for_link(req.link)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "cache_dir = wheel_cache.get_ephem_path_for_link(req.link)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 86,
              "content": "return cache_dir",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 180,
              "content": "wheel_hash, length = hash_file(wheel_path)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 180,
              "content": "wheel_hash, length = hash_file(wheel_path)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 184,
              "content": "# when populating the cache.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 191,
              "content": "wheel_hash.hexdigest(),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 206,
              "content": "wheel_cache: WheelCache,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 206,
              "content": "wheel_cache: WheelCache,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 227,
              "content": "cache_dir = _get_cache_dir(req, wheel_cache)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 227,
              "content": "cache_dir = _get_cache_dir(req, wheel_cache)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 227,
              "content": "cache_dir = _get_cache_dir(req, wheel_cache)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 230,
              "content": "cache_dir,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 235,
              "content": "# Record the download origin in the cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 240,
              "content": "wheel_cache.record_download_origin(cache_dir, req.download_info)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 240,
              "content": "wheel_cache.record_download_origin(cache_dir, req.download_info)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 141,
              "content": "with req.build_env:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 157,
              "content": "with TemporaryDirectory(dir=output_dir) as wheel_directory:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 223,
              "content": "with indent_log():",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 147,
              "content": "logger.warning(\"Built %s for %s is invalid: %s\", artifact, req.name, e)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 220,
              "content": "\", \".join(req.name for req in requirements),  # type: ignore",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 253,
              "content": "\" \".join([req.name for req in build_successes]),  # type: ignore",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 258,
              "content": "\" \".join([req.name for req in build_failures]),  # type: ignore",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from collections.abc import Iterable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from tempfile import TemporaryDirectory",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from pip._vendor.packaging.utils import canonicalize_name, canonicalize_version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from pip._vendor.packaging.version import InvalidVersion, Version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._internal.cache import WheelCache",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._internal.exceptions import InvalidWheelFilename, UnsupportedWheel",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from pip._internal.metadata import FilesystemWheel, get_wheel_distribution",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from pip._internal.models.link import Link",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip._internal.models.wheel import Wheel",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from pip._internal.operations.build.wheel import build_wheel_pep517",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from pip._internal.operations.build.wheel_editable import build_wheel_editable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from pip._internal.req.req_install import InstallRequirement",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._internal.utils.logging import indent_log",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 23,
              "content": "from pip._internal.utils.misc import ensure_dir, hash_file",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._internal.utils.urls import path_to_url",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 25,
              "content": "from pip._internal.vcs import vcs",
              "severity": "good"
            }
          ],
          "green_score": 405
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/self_outdated_check.py",
          "lines_of_code": 262,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 215,
              "content": "logger.debug(\"No remote pip version found\")",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 220,
              "content": "logger.debug(\"Remote version of pip: %s\", remote_version)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 221,
              "content": "logger.debug(\"Local version of pip:  %s\", local_version)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 224,
              "content": "logger.debug(\"Was pip installed by pip? %s\", pip_installed_by_pip)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 5,
              "content": "import hashlib",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 49,
              "content": "name = hashlib.sha224(key_bytes).hexdigest()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 63,
              "content": "def __init__(self, cache_dir: str) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 68,
              "content": "if cache_dir:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 70,
              "content": "cache_dir, \"selfcheck\", _get_statefile_name(self.key)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 77,
              "content": "# error out if the cache file is invalid.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 104,
              "content": "# If we do not have a path to cache in, don't bother saving.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 242,
              "content": "the active virtualenv or in the user's USER_CACHE_DIR keyed off the prefix",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 254,
              "content": "state=SelfCheckState(cache_dir=options.cache_dir),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 254,
              "content": "state=SelfCheckState(cache_dir=options.cache_dir),",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 103,
              "content": "def set(self, pypi_version: str, current_time: datetime.datetime) -> None:",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 217,
              "content": "state.set(remote_version_str, current_time)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 20,
              "content": "from pip._internal.index.collector import LinkCollector",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 21,
              "content": "from pip._internal.index.package_finder import PackageFinder",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 183,
              "content": "suppress_no_index=True,",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 241,
              "content": "Limit the frequency of checks to once per week. State is stored either in",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 73,
              "content": "with open(self._statefile_path, encoding=\"utf-8\") as statefile:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 128,
              "content": "with adjacent_tmp_file(self._statefile_path) as f:",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from dataclasses import dataclass",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from typing import Any, Callable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._vendor.packaging.version import Version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._vendor.packaging.version import parse as parse_version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from pip._vendor.rich.console import Group",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from pip._vendor.rich.markup import escape",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip._vendor.rich.text import Text",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from pip._internal.index.collector import LinkCollector",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from pip._internal.index.package_finder import PackageFinder",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._internal.metadata import get_default_environment",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 23,
              "content": "from pip._internal.models.selection_prefs import SelectionPreferences",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._internal.network.session import PipSession",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 25,
              "content": "from pip._internal.utils.compat import WINDOWS",
              "severity": "good"
            }
          ],
          "green_score": 200
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/build_env.py",
          "lines_of_code": 417,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 23,
              "content": "from pip._internal.utils.logging import VERBOSE",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 180,
              "content": "elif logger.getEffectiveLevel() <= VERBOSE:",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "efficient_data_structures",
              "line": 284,
              "content": "known_paths = set()",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 287,
              "content": "system_paths = set(",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 346,
              "content": "missing = set()",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 347,
              "content": "conflicting = set()",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 29,
              "content": "from pip._internal.index.package_finder import PackageFinder",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 191,
              "content": "index_urls = finder.index_urls",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 191,
              "content": "index_urls = finder.index_urls",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 192,
              "content": "if index_urls:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 193,
              "content": "args.extend([\"-i\", index_urls[0]])",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 194,
              "content": "for extra_index in index_urls[1:]:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 194,
              "content": "for extra_index in index_urls[1:]:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 195,
              "content": "args.extend([\"--extra-index-url\", extra_index])",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 195,
              "content": "args.extend([\"--extra-index-url\", extra_index])",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 197,
              "content": "args.append(\"--no-index\")",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 239,
              "content": "with open_spinner(f\"Installing {kind}\") as spinner:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 274,
              "content": "with open(",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 356,
              "content": "# We're explicitly evaluating with an empty extra value, since build",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 406,
              "content": "def cleanup(self) -> None:",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 85,
              "content": "return {os.path.normcase(path) for path in system_sites}",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from collections import OrderedDict",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from collections.abc import Iterable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from types import TracebackType",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from typing import TYPE_CHECKING, Protocol, TypedDict",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from pip._vendor.packaging.version import Version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip import __file__ as pip_location",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from pip._internal.cli.spinners import open_spinner",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from pip._internal.locations import get_platlib, get_purelib, get_scheme",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from pip._internal.metadata import get_default_environment, get_environment",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._internal.utils.deprecation import deprecated",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 23,
              "content": "from pip._internal.utils.logging import VERBOSE",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._internal.utils.packaging import get_requirement",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 25,
              "content": "from pip._internal.utils.subprocess import call_subprocess",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 26,
              "content": "from pip._internal.utils.temp_dir import TempDirectory, tempdir_kinds",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 29,
              "content": "from pip._internal.index.package_finder import PackageFinder",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 30,
              "content": "from pip._internal.req.req_install import InstallRequirement",
              "severity": "good"
            }
          ],
          "green_score": 250
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/auth.py",
          "lines_of_code": 564,
          "issues": [
            {
              "type": "memory_waste",
              "line": 282,
              "content": "global KEYRING_DISABLED",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 86,
              "content": "logger.debug(\"Getting credentials from keyring for %s\", url)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 93,
              "content": "logger.debug(\"Getting password from keyring for %s\", url)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 164,
              "content": "logger.verbose(\"Keyring provider requested: %s\", provider)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 172,
              "content": "logger.verbose(\"Keyring provider set: import\")",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 217,
              "content": "logger.verbose(\"Keyring provider set: subprocess with executable %s\", cli)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 220,
              "content": "logger.verbose(\"Keyring provider set: disabled\")",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 275,
              "content": "# show up when running in verbose mode.",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 276,
              "content": "logger.debug(\"Keyring is skipped due to an exception\", exc_info=True)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 351,
              "content": "logger.debug(\"Found credentials in url for %s\", netloc)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 361,
              "content": "logger.debug(\"Found index url %s\", index_url)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 367,
              "content": "logger.debug(\"Found credentials in index url for %s\", netloc)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 374,
              "content": "logger.debug(\"Found credentials in netrc for %s\", netloc)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 387,
              "content": "logger.debug(\"Found credentials in keyring for %s\", netloc)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 17,
              "content": "from functools import cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 162,
              "content": "@cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 249,
              "content": "# functools.cache. If an exception occurs in get_keyring_auth that",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 250,
              "content": "# cache will be cleared and keyring disabled, take that into account",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 284,
              "content": "get_keyring_provider.cache_clear()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 290,
              "content": "Cached or dynamically generated credentials may work against",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 415,
              "content": "# It is possible that the cached credentials are for a different username,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 416,
              "content": "# in which case the cache should be ignored.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 422,
              "content": "# this netloc will show up as \"cached\" in the conditional above.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 424,
              "content": "# cache the value that is going to be used.",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 228,
              "content": "index_urls: list[str] | None = None,",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 232,
              "content": "self.index_urls = index_urls",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 232,
              "content": "self.index_urls = index_urls",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 287,
              "content": "def _get_index_url(self, url: str) -> str | None:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 288,
              "content": "\"\"\"Return the original index URL matching the requested URL.",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 291,
              "content": "the original index URL rather than just the netloc.",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 294,
              "content": "removed already. If the original index url had credentials then",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 297,
              "content": "Returns None if no matching index was found, or if --no-index",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 297,
              "content": "Returns None if no matching index was found, or if --no-index",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 300,
              "content": "if not url or not self.index_urls:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 308,
              "content": "for index in self.index_urls:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 308,
              "content": "for index in self.index_urls:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 309,
              "content": "index = index.rstrip(\"/\") + \"/\"",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 309,
              "content": "index = index.rstrip(\"/\") + \"/\"",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 310,
              "content": "parsed_index = urllib.parse.urlsplit(remove_auth_from_url(index))",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 310,
              "content": "parsed_index = urllib.parse.urlsplit(remove_auth_from_url(index))",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 311,
              "content": "if parsed_url == parsed_index:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 312,
              "content": "return index",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 314,
              "content": "if parsed_url.netloc != parsed_index.netloc:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 317,
              "content": "candidate = urllib.parse.urlsplit(index)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 354,
              "content": "# Find a matching index url for this request",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 355,
              "content": "index_url = self._get_index_url(url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 355,
              "content": "index_url = self._get_index_url(url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 356,
              "content": "if index_url:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 358,
              "content": "index_info = split_auth_netloc_from_url(index_url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 358,
              "content": "index_info = split_auth_netloc_from_url(index_url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 359,
              "content": "if index_info:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 360,
              "content": "index_url, _, index_url_user_password = index_info",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 360,
              "content": "index_url, _, index_url_user_password = index_info",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 360,
              "content": "index_url, _, index_url_user_password = index_info",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 361,
              "content": "logger.debug(\"Found index url %s\", index_url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 361,
              "content": "logger.debug(\"Found index url %s\", index_url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 363,
              "content": "# If an index URL was found, try its embedded credentials",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 364,
              "content": "if index_url and index_url_user_password[0] is not None:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 364,
              "content": "if index_url and index_url_user_password[0] is not None:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 365,
              "content": "username, password = index_url_user_password",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 367,
              "content": "logger.debug(\"Found credentials in index url for %s\", netloc)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 368,
              "content": "return index_url_user_password",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 379,
              "content": "# The index url is more specific than the netloc, so try it first",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 382,
              "content": "self._get_keyring_auth(index_url, username) or",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 412,
              "content": "# the username in the index url, but the password comes from keyring.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 179,
              "content": "msg = \"Installed copy of keyring fails with exception %s\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 217,
              "content": "logger.verbose(\"Keyring provider set: subprocess with executable %s\", cli)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 274,
              "content": "# Log the full exception (with stacktrace) at debug, so it'll only",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 348,
              "content": "# Start with the credentials embedded in the url",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 448,
              "content": "# Send the basic auth with this request",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 182,
              "content": "logger.warning(msg, exc, exc_info=logger.isEnabledFor(logging.DEBUG))",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 458,
              "content": "username = ask_input(f\"User for {netloc}: \") if self.prompting else None",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from abc import ABC, abstractmethod",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from functools import cache",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from os.path import commonprefix",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from pathlib import Path",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from typing import Any, NamedTuple",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._vendor.requests.auth import AuthBase, HTTPBasicAuth",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 23,
              "content": "from pip._vendor.requests.models import Request, Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._vendor.requests.utils import get_netrc_auth",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 26,
              "content": "from pip._internal.utils.logging import getLogger",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 34,
              "content": "from pip._internal.vcs.versioncontrol import AuthInfo",
              "severity": "good"
            }
          ],
          "green_score": 235
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/xmlrpc.py",
          "lines_of_code": 61,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 38,
              "content": "verbose: bool = False,",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 52,
              "content": "self.verbose = verbose",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 52,
              "content": "self.verbose = verbose",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "database_optimization",
              "line": 26,
              "content": "self, index_url: str, session: PipSession, use_datetime: bool = False",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 29,
              "content": "index_parts = urllib.parse.urlparse(index_url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 29,
              "content": "index_parts = urllib.parse.urlparse(index_url)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 30,
              "content": "self._scheme = index_parts.scheme",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 6,
              "content": "from typing import TYPE_CHECKING",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from pip._internal.exceptions import NetworkConnectionError",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from pip._internal.network.session import PipSession",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from pip._internal.network.utils import raise_for_status",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from xmlrpc.client import _HostType, _Marshallable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from _typeshed import SizedBuffer",
              "severity": "good"
            }
          ],
          "green_score": 105
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/download.py",
          "lines_of_code": 342,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 277,
              "content": "logger.debug(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 313,
              "content": "logger.debug(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 24,
              "content": "from pip._internal.network.cache import SafeFileCache, is_from_cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 24,
              "content": "from pip._internal.network.cache import SafeFileCache, is_from_cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 24,
              "content": "from pip._internal.network.cache import SafeFileCache, is_from_cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 25,
              "content": "from pip._internal.network.session import CacheControlAdapter, PipSession",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 69,
              "content": "if is_from_cache(resp):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 70,
              "content": "logger.info(\"Using cached %s\", logged_url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 78,
              "content": "elif is_from_cache(resp):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 256,
              "content": "# If we successfully completed the download via resume, manually cache it",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 259,
              "content": "self._cache_resumed_download(download, first_resp)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 261,
              "content": "def _cache_resumed_download(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 265,
              "content": "Manually cache a file that was successfully downloaded via resume retries.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 267,
              "content": "cachecontrol doesn't cache 206 (Partial Content) responses, since they",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 267,
              "content": "cachecontrol doesn't cache 206 (Partial Content) responses, since they",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 269,
              "content": "cache as though it was downloaded in a single request, so that future",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 270,
              "content": "requests can use the cache.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 275,
              "content": "# Check if the adapter is the CacheControlAdapter (i.e. caching is enabled)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 276,
              "content": "if not isinstance(adapter, CacheControlAdapter):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 278,
              "content": "\"Skipping resume download caching: no cache controller for %s\", url",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 282,
              "content": "# Check SafeFileCache is being used",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 284,
              "content": "adapter.cache, SafeFileCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 284,
              "content": "adapter.cache, SafeFileCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 285,
              "content": "), \"separate body cache not in use!\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 303,
              "content": "# Save metadata and then stream the file contents to cache.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 304,
              "content": "cache_url = adapter.controller.cache_url(url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 304,
              "content": "cache_url = adapter.controller.cache_url(url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 308,
              "content": "adapter.cache.set(cache_url, metadata_blob)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 308,
              "content": "adapter.cache.set(cache_url, metadata_blob)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 311,
              "content": "adapter.cache.set_body_from_io(cache_url, f)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 311,
              "content": "adapter.cache.set_body_from_io(cache_url, f)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 314,
              "content": "\"Cached resumed download as complete response for future use: %s\", url",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 185,
              "content": "yield link, (filepath, content_type)",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 308,
              "content": "adapter.cache.set(cache_url, metadata_blob)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 22,
              "content": "from pip._internal.models.index import PyPI",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 179,
              "content": "def batch(",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 1,
              "content": "\"\"\"Download files with progress indicators.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 193,
              "content": "with open(filepath, \"wb\") as content_file:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 238,
              "content": "# Fallback: if the server responded with 200 (i.e., the file has",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 310,
              "content": "with open(download.output_file.name, \"rb\") as f:",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from collections.abc import Iterable, Mapping",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from dataclasses import dataclass",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from http import HTTPStatus",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from typing import BinaryIO",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._vendor.requests import PreparedRequest",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._vendor.requests.models import Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from pip._vendor.urllib3 import HTTPResponse as URLlib3Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from pip._vendor.urllib3._collections import HTTPHeaderDict",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip._vendor.urllib3.exceptions import ReadTimeoutError",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from pip._internal.cli.progress_bars import BarType, get_download_progress_renderer",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from pip._internal.exceptions import IncompleteDownloadError, NetworkConnectionError",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._internal.models.index import PyPI",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 23,
              "content": "from pip._internal.models.link import Link",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._internal.network.cache import SafeFileCache, is_from_cache",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 25,
              "content": "from pip._internal.network.session import CacheControlAdapter, PipSession",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 26,
              "content": "from pip._internal.network.utils import HEADERS, raise_for_status, response_chunks",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 27,
              "content": "from pip._internal.utils.misc import format_size, redact_auth_from_url, splitext",
              "severity": "good"
            }
          ],
          "green_score": 350
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/session.py",
          "lines_of_code": 528,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 30,
              "content": "from pip._vendor.cachecontrol import CacheControlAdapter as _BaseCacheControlAdapter",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 30,
              "content": "from pip._vendor.cachecontrol import CacheControlAdapter as _BaseCacheControlAdapter",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 30,
              "content": "from pip._vendor.cachecontrol import CacheControlAdapter as _BaseCacheControlAdapter",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "from pip._internal.network.cache import SafeFileCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "from pip._internal.network.cache import SafeFileCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 108,
              "content": "@functools.lru_cache(maxsize=1)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 299,
              "content": "class CacheControlAdapter(_SSLContextAdapterMixin, _BaseCacheControlAdapter):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 299,
              "content": "class CacheControlAdapter(_SSLContextAdapterMixin, _BaseCacheControlAdapter):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 314,
              "content": "class InsecureCacheControlAdapter(CacheControlAdapter):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 314,
              "content": "class InsecureCacheControlAdapter(CacheControlAdapter):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 332,
              "content": "cache: str | None = None,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 381,
              "content": "# We want to _only_ cache responses on securely fetched origins or when",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 384,
              "content": "# origin, and we don't want someone to be able to poison the cache and",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 385,
              "content": "# require manual eviction from the cache to fix it.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 386,
              "content": "if cache:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 387,
              "content": "secure_adapter = CacheControlAdapter(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 388,
              "content": "cache=SafeFileCache(cache),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 388,
              "content": "cache=SafeFileCache(cache),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 388,
              "content": "cache=SafeFileCache(cache),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 392,
              "content": "self._trusted_host_adapter = InsecureCacheControlAdapter(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 393,
              "content": "cache=SafeFileCache(cache),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 393,
              "content": "cache=SafeFileCache(cache),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 393,
              "content": "cache=SafeFileCache(cache),",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 21,
              "content": "from collections.abc import Generator, Mapping, Sequence",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 449,
              "content": "def iter_secure_origins(self) -> Generator[SecureOrigin, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 450,
              "content": "yield from SECURE_ORIGINS",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 452,
              "content": "yield (\"*\", host, \"*\" if port is None else port)",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 21,
              "content": "from collections.abc import Generator, Mapping, Sequence",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 449,
              "content": "def iter_secure_origins(self) -> Generator[SecureOrigin, None, None]:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 334,
              "content": "index_urls: list[str] | None = None,",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 353,
              "content": "self.auth = MultiDomainBasicAuth(index_urls=index_urls)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 353,
              "content": "self.auth = MultiDomainBasicAuth(index_urls=index_urls)",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 409,
              "content": "def update_index_urls(self, new_index_urls: list[str]) -> None:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 409,
              "content": "def update_index_urls(self, new_index_urls: list[str]) -> None:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 411,
              "content": ":param new_index_urls: New index urls to update the authentication",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 411,
              "content": ":param new_index_urls: New index urls to update the authentication",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 414,
              "content": "self.auth.index_urls = new_index_urls",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 414,
              "content": "self.auth.index_urls = new_index_urls",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 344,
              "content": "# Namespace the attribute with \"pip_\" just in case to prevent",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 345,
              "content": "# possible conflicts with the base class.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 514,
              "content": "\"this warning and allow it anyway with '--trusted-host %s'.\",",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 105,
              "content": "return any(name in os.environ for name in CI_ENVIRONMENT_VARIABLES)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 128,
              "content": "[str(x) for x in pypy_version_info]",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 168,
              "content": "data[\"cpu\"] = platform.machine()",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from collections.abc import Generator, Mapping, Sequence",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 29,
              "content": "from pip._vendor import requests, urllib3",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 30,
              "content": "from pip._vendor.cachecontrol import CacheControlAdapter as _BaseCacheControlAdapter",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 31,
              "content": "from pip._vendor.requests.adapters import DEFAULT_POOLBLOCK, BaseAdapter",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 32,
              "content": "from pip._vendor.requests.adapters import HTTPAdapter as _BaseHTTPAdapter",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 33,
              "content": "from pip._vendor.requests.models import PreparedRequest, Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 34,
              "content": "from pip._vendor.requests.structures import CaseInsensitiveDict",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 35,
              "content": "from pip._vendor.urllib3.connectionpool import ConnectionPool",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 36,
              "content": "from pip._vendor.urllib3.exceptions import InsecureRequestWarning",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 38,
              "content": "from pip import __version__",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 39,
              "content": "from pip._internal.metadata import get_default_environment",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 40,
              "content": "from pip._internal.models.link import Link",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 41,
              "content": "from pip._internal.network.auth import MultiDomainBasicAuth",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 42,
              "content": "from pip._internal.network.cache import SafeFileCache",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 44,
              "content": "# Import ssl from compat so the initial import occurs in only one place.",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 45,
              "content": "from pip._internal.utils.compat import has_tls",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 46,
              "content": "from pip._internal.utils.glibc import libc_ver",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 47,
              "content": "from pip._internal.utils.misc import build_url_from_netloc, parse_netloc",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 48,
              "content": "from pip._internal.utils.urls import url_to_path",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 51,
              "content": "from ssl import SSLContext",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 53,
              "content": "from pip._vendor.urllib3.poolmanager import PoolManager",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 54,
              "content": "from pip._vendor.urllib3.proxymanager import ProxyManager",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 138,
              "content": "from pip._vendor import distro",
              "severity": "good"
            }
          ],
          "green_score": 440
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/cache.py",
          "lines_of_code": 128,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 1,
              "content": "\"\"\"HTTP cache implementation.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 12,
              "content": "from pip._vendor.cachecontrol.cache import SeparateBodyBaseCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 12,
              "content": "from pip._vendor.cachecontrol.cache import SeparateBodyBaseCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 12,
              "content": "from pip._vendor.cachecontrol.cache import SeparateBodyBaseCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 13,
              "content": "from pip._vendor.cachecontrol.caches import SeparateBodyFileCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 13,
              "content": "from pip._vendor.cachecontrol.caches import SeparateBodyFileCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 13,
              "content": "from pip._vendor.cachecontrol.caches import SeparateBodyFileCache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 24,
              "content": "def is_from_cache(response: Response) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 25,
              "content": "return getattr(response, \"from_cache\", False)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 29,
              "content": "def suppressed_cache_errors() -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 30,
              "content": "\"\"\"If we can't access the cache then we can just skip caching and process",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 39,
              "content": "class SafeFileCache(SeparateBodyBaseCache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 39,
              "content": "class SafeFileCache(SeparateBodyBaseCache):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 41,
              "content": "A file based cache which is safe to use even when the target directory may",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 46,
              "content": "files (https://github.com/psf/cachecontrol/issues/324).  We therefore have",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 54,
              "content": "CacheControl issue will need to be fixed.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 58,
              "content": "assert directory is not None, \"Cache directory must not be None.\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 62,
              "content": "def _get_cache_path(self, name: str) -> str:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 63,
              "content": "# From cachecontrol.caches.file_cache.FileCache._fn, brought into our",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 63,
              "content": "# From cachecontrol.caches.file_cache.FileCache._fn, brought into our",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 63,
              "content": "# From cachecontrol.caches.file_cache.FileCache._fn, brought into our",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 63,
              "content": "# From cachecontrol.caches.file_cache.FileCache._fn, brought into our",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 66,
              "content": "hashed = SeparateBodyFileCache.encode(name)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 66,
              "content": "hashed = SeparateBodyFileCache.encode(name)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 67,
              "content": "parts = list(hashed[:5]) + [hashed]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 67,
              "content": "parts = list(hashed[:5]) + [hashed]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 71,
              "content": "# The cache entry is only valid if both metadata and body exist.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 72,
              "content": "metadata_path = self._get_cache_path(key)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 76,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 87,
              "content": "# Inherit the read/write permissions of the cache directory",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 88,
              "content": "# to enable multi-user cache use-cases.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 102,
              "content": "path = self._get_cache_path(key)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 106,
              "content": "path = self._get_cache_path(key)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 107,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 109,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 113,
              "content": "# The cache entry is only valid if both metadata and body exist.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 114,
              "content": "metadata_path = self._get_cache_path(key)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 118,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 122,
              "content": "path = self._get_cache_path(key) + \".body\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 126,
              "content": "\"\"\"Set the body of the cache entry from a file object.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 127,
              "content": "path = self._get_cache_path(key) + \".body\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 7,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 29,
              "content": "def suppressed_cache_errors() -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 34,
              "content": "yield",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 99,
              "content": "def set(",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 7,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 29,
              "content": "def suppressed_cache_errors() -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 76,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 77,
              "content": "with open(metadata_path, \"rb\") as f:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 81,
              "content": "\"\"\"Common file writing logic with proper permissions and atomic replacement.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 82,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 85,
              "content": "with adjacent_tmp_file(path) as f:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 107,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 109,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 118,
              "content": "with suppressed_cache_errors():",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from contextlib import contextmanager",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from datetime import datetime",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from typing import Any, BinaryIO, Callable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from pip._vendor.cachecontrol.cache import SeparateBodyBaseCache",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from pip._vendor.cachecontrol.caches import SeparateBodyFileCache",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._vendor.requests.models import Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 21,
              "content": "from pip._internal.utils.misc import ensure_dir",
              "severity": "good"
            }
          ],
          "green_score": 425
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/utils.py",
          "lines_of_code": 98,
          "issues": [],
          "improvements": [
            {
              "type": "memory_optimization",
              "line": 1,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 61,
              "content": ") -> Generator[bytes, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 91,
              "content": "yield chunk",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 98,
              "content": "yield chunk",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 1,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 61,
              "content": ") -> Generator[bytes, None, None]:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 14,
              "content": "#   and will leave the file alone and with an empty Content-Encoding",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 68,
              "content": "# want urllib3 to mess with the raw bytes we get",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 77,
              "content": "#   and with an empty Content-Encoding",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 88,
              "content": "# hope to eliminate problems with the second case.",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 11,
              "content": "# accepting compressed responses. This breaks in a variety of ways",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 13,
              "content": "# - Some servers will notice that the file isn't a compressible file",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 15,
              "content": "# - Some servers will notice that the file is already compressed and",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 16,
              "content": "#   will leave the file alone, adding a Content-Encoding: gzip header",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 18,
              "content": "#   that's already been compressed and compress it again, and set",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 18,
              "content": "#   that's already been compressed and compress it again, and set",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 19,
              "content": "#   the Content-Encoding: gzip header",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 22,
              "content": "# which when given a file will notice it is already compressed and that",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 23,
              "content": "# you're not asking for a compressed file and will then decompress it",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 23,
              "content": "# you're not asking for a compressed file and will then decompress it",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 69,
              "content": "# from the server. If we decompress inside of",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 71,
              "content": "# because the checksum will be of the compressed",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 76,
              "content": "#   compressible file and will leave the file alone",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 79,
              "content": "#   already compressed and will leave the file",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 80,
              "content": "#   alone and will add a Content-Encoding: gzip",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 83,
              "content": "#   will take a file that's already been compressed",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 84,
              "content": "#   and compress it again and set the",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 85,
              "content": "#   Content-Encoding: gzip header",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from pip._vendor.requests.models import Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from pip._internal.exceptions import NetworkConnectionError",
              "severity": "good"
            }
          ],
          "green_score": 255
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/lazy_wheel.py",
          "lines_of_code": 215,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 179,
              "content": "# TODO: Get range requests to be correctly cached",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 180,
              "content": "headers[\"Cache-Control\"] = \"no-cache\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 180,
              "content": "headers[\"Cache-Control\"] = \"no-cache\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 8,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 147,
              "content": "def _stay(self) -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 154,
              "content": "yield",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 185,
              "content": ") -> Generator[tuple[int, int], None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 186,
              "content": "\"\"\"Return a generator of intervals to be fetched.",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 199,
              "content": "yield i, j - 1",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 202,
              "content": "yield i, end",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 1,
              "content": "\"\"\"Lazy ZIP over HTTP\"\"\"",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 8,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 36,
              "content": "with LazyZipOverHTTP(url, session) as zf:",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 45,
              "content": "class LazyZipOverHTTP:",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 139,
              "content": "def __enter__(self) -> LazyZipOverHTTP:",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 147,
              "content": "def _stay(self) -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 185,
              "content": ") -> Generator[tuple[int, int], None, None]:",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 186,
              "content": "\"\"\"Return a generator of intervals to be fetched.",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 191,
              "content": "left (int): Index of first overlapping downloaded data",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 192,
              "content": "right (int): Index after last overlapping downloaded data",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 36,
              "content": "with LazyZipOverHTTP(url, session) as zf:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 86,
              "content": "self._file.close()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 155,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 163,
              "content": "with self._stay():",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 207,
              "content": "with self._stay():",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from bisect import bisect_left, bisect_right",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from contextlib import contextmanager",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from tempfile import NamedTemporaryFile",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from typing import Any",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from zipfile import BadZipFile, ZipFile",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._vendor.packaging.utils import NormalizedName",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._vendor.requests.models import CONTENT_CHUNK_SIZE, Response",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from pip._internal.metadata import BaseDistribution, MemoryWheel, get_wheel_distribution",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip._internal.network.session import PipSession",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from pip._internal.network.utils import HEADERS, raise_for_status, response_chunks",
              "severity": "good"
            }
          ],
          "green_score": 285
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/logging.py",
          "lines_of_code": 364,
          "issues": [
            {
              "type": "memory_waste",
              "line": 290,
              "content": "global _stdout_console, stderr_console",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 29,
              "content": "from pip._internal.utils._log import VERBOSE, getLogger",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 256,
              "content": "level_number = VERBOSE",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "memory_optimization",
              "line": 10,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 60,
              "content": "def indent_log(num: int = 2) -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 69,
              "content": "yield",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 140,
              "content": "yield Segment(\" \" * self.indent)",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 141,
              "content": "yield from line",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 142,
              "content": "yield Segment(\"\\n\")",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 10,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 60,
              "content": "def indent_log(num: int = 2) -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 70,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 91,
              "content": "with their record's timestamp.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 177,
              "content": "# If we are given a diagnostic error to present, present it with indentation.",
              "severity": "good"
            },
            {
              "type": "parallel_processing",
              "line": 9,
              "content": "import threading",
              "severity": "good"
            },
            {
              "type": "parallel_processing",
              "line": 34,
              "content": "_log_state = threading.local()",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 96,
              "content": "def get_message_start(self, formatted: str, levelno: int) -> str:",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 125,
              "content": "formatted = \"\".join([prefix + line for line in formatted.splitlines(True)])",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from dataclasses import dataclass",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from io import TextIOWrapper",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from logging import Filter",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from typing import Any, ClassVar",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._vendor.rich.highlighter import NullHighlighter",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 25,
              "content": "from pip._vendor.rich.logging import RichHandler",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 26,
              "content": "from pip._vendor.rich.segment import Segment",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 27,
              "content": "from pip._vendor.rich.style import Style",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 29,
              "content": "from pip._internal.utils._log import VERBOSE, getLogger",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 30,
              "content": "from pip._internal.utils.compat import WINDOWS",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 31,
              "content": "from pip._internal.utils.deprecation import DEPRECATION_MSG_PREFIX",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 32,
              "content": "from pip._internal.utils.misc import ensure_dir",
              "severity": "good"
            }
          ],
          "green_score": 200
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/misc.py",
          "lines_of_code": 765,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 5,
              "content": "import hashlib",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 609,
              "content": "def hash_file(path: str, blocksize: int = 1 << 20) -> tuple[Any, int]:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 610,
              "content": "\"\"\"Return (hash, length) for path using hashlib.sha256()\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 610,
              "content": "\"\"\"Return (hash, length) for path using hashlib.sha256()\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 612,
              "content": "h = hashlib.sha256()",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 14,
              "content": "from collections.abc import Generator, Iterable, Iterator, Mapping, Sequence",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 304,
              "content": ") -> Generator[bytes, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 305,
              "content": "\"\"\"Yield pieces of data from a file-like object until EOF.\"\"\"",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 310,
              "content": "yield chunk",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 14,
              "content": "from collections.abc import Generator, Iterable, Iterator, Mapping, Sequence",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 304,
              "content": ") -> Generator[bytes, None, None]:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 113,
              "content": "except (AttributeError, TypeError, IndexError):",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 218,
              "content": "\"\"\"Ask the message interactively, with the given possible responses\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 359,
              "content": "with normalize_path.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 401,
              "content": "# Only wrap host with square brackets when it is IPv6",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 411,
              "content": "# It must be a bare IPv6 address, so wrap it with brackets.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 456,
              "content": "Replace the sensitive data in a netloc with \"****\", if it exists.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 506,
              "content": "Parse a url into separate netloc, auth, and url with no auth.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 515,
              "content": "\"\"\"Return a copy of url with 'username:password@' removed.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 522,
              "content": "\"\"\"Replace the password in a given url with ****.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 527,
              "content": "\"\"\"Replace the password in a given requirement url with ****.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 614,
              "content": "with open(path, \"rb\") as f:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 759,
              "content": "\"conflicting behaviour with the system package manager, possibly \"",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 279,
              "content": "rows = [tuple(map(str, row)) for row in rows]",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 280,
              "content": "sizes = [max(map(len, col)) for col in zip_longest(*rows, fillvalue=\"\")]",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 281,
              "content": "table = [\" \".join(map(str.ljust, row, sizes)).rstrip() for row in rows]",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 610,
              "content": "\"\"\"Return (hash, length) for path using hashlib.sha256()\"\"\"",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 694,
              "content": "return super().get_requires_for_build_wheel(config_settings=cs)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 700,
              "content": "return super().get_requires_for_build_sdist(config_settings=cs)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 706,
              "content": "return super().get_requires_for_build_editable(config_settings=cs)",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from collections.abc import Generator, Iterable, Iterator, Mapping, Sequence",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from dataclasses import dataclass",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 16,
              "content": "from functools import partial",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 17,
              "content": "from io import StringIO",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from itertools import filterfalse, tee, zip_longest",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from pathlib import Path",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from types import FunctionType, TracebackType",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 31,
              "content": "from pip._vendor.packaging.requirements import Requirement",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 32,
              "content": "from pip._vendor.pyproject_hooks import BuildBackendHookCaller",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 34,
              "content": "from pip import __version__",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 35,
              "content": "from pip._internal.exceptions import CommandError, ExternallyManagedEnvironment",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 36,
              "content": "from pip._internal.locations import get_major_minor_version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 37,
              "content": "from pip._internal.utils.compat import WINDOWS",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 38,
              "content": "from pip._internal.utils.retry import retry",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 39,
              "content": "from pip._internal.utils.virtualenv import running_under_virtualenv",
              "severity": "good"
            }
          ],
          "green_score": 330
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/egg_link.py",
          "lines_of_code": 81,
          "issues": [
            {
              "type": "memory_waste",
              "line": 54,
              "content": "2) in a no-global virtualenv",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            },
            {
              "type": "memory_waste",
              "line": 56,
              "content": "3) in a yes-global virtualenv",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            },
            {
              "type": "memory_waste",
              "line": 58,
              "content": "(don't look in global location)",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from pip._internal.locations import site_packages, user_site",
              "severity": "good"
            }
          ],
          "green_score": 65
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/compat.py",
          "lines_of_code": 85,
          "issues": [],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 51,
              "content": "# raise OSError for parity with os.O_NOFOLLOW above",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 56,
              "content": "# The importlib.resources.open_text function was deprecated in 3.11 with suggested",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 52,
              "content": "raise OSError(f\"{path} is a symlink; Will not return uid for symlinks\")",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from typing import IO",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 24,
              "content": "from pip._vendor.urllib3.util import IS_PYOPENSSL",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 73,
              "content": "from pip._vendor import tomli as tomllib",
              "severity": "good"
            }
          ],
          "green_score": 130
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/deprecation.py",
          "lines_of_code": 126,
          "issues": [
            {
              "type": "memory_waste",
              "line": 50,
              "content": "global _original_showwarning",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from typing import Any, TextIO",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from pip._vendor.packaging.version import parse",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from pip import __version__ as current_version  # NOTE: tests patch this name.",
              "severity": "good"
            }
          ],
          "green_score": 105
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/subprocess.py",
          "lines_of_code": 248,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 14,
              "content": "from pip._internal.utils.logging import VERBOSE, subprocess_logger",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 95,
              "content": "# - If DEBUG logging isn't enabled (e.g. if --verbose logging wasn't",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 100,
              "content": "#   (e.g. if --verbose logging wasn't enabled).  This way we don't log",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 110,
              "content": "# Then log the subprocess output using VERBOSE.  This also ensures",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 112,
              "content": "log_subprocess = subprocess_logger.verbose",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 113,
              "content": "used_level = VERBOSE",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 201,
              "content": "subprocess_logger.verbose(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 206,
              "content": "subprocess_logger.verbose(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 98,
              "content": "# - If the subprocess exits with an error, we log the output to stderr",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 103,
              "content": "# If show_stdout=True, then the above is still done, but with DEBUG",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 151,
              "content": "proc.stdin.close()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 168,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 170,
              "content": "proc.stdout.close()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 230,
              "content": "Intended for use with for BuildBackendHookCaller. Thus, the runner has",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 239,
              "content": "with open_spinner(message) as spinner:",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 56,
              "content": "return [arg.secret if isinstance(arg, HiddenText) else arg for arg in args]",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from collections.abc import Iterable, Mapping",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from typing import Any, Callable, Literal, Union",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from pip._vendor.rich.markup import escape",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from pip._internal.cli.spinners import SpinnerInterface, open_spinner",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from pip._internal.exceptions import InstallationSubprocessError",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._internal.utils.logging import VERBOSE, subprocess_logger",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._internal.utils.misc import HiddenText",
              "severity": "good"
            }
          ],
          "green_score": 60
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/filesystem.py",
          "lines_of_code": 164,
          "issues": [],
          "improvements": [
            {
              "type": "memory_optimization",
              "line": 8,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 46,
              "content": "def adjacent_tmp_file(path: str, **kwargs: Any) -> Generator[BinaryIO, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 64,
              "content": "yield result",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 8,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 46,
              "content": "def adjacent_tmp_file(path: str, **kwargs: Any) -> Generator[BinaryIO, None, None]:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 55,
              "content": "with NamedTemporaryFile(",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 65,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 74,
              "content": "# with the author's agreement to also place them under pip's license.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 106,
              "content": "# This could be because there's a directory with the same name.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 123,
              "content": "with filenames which match the UNIX-style shell glob pattern.\"\"\"",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 99,
              "content": "name = basename + \"\".join(random.choice(alphabet) for _ in range(6))",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 127,
              "content": "result.extend(os.path.join(root, f) for f in matches)",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from contextlib import contextmanager",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from tempfile import NamedTemporaryFile",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from typing import Any, BinaryIO, cast",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from pip._internal.utils.compat import get_path_uid",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 14,
              "content": "from pip._internal.utils.misc import format_size",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._internal.utils.retry import retry",
              "severity": "good"
            }
          ],
          "green_score": 200
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/direct_url_helpers.py",
          "lines_of_code": 87,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 20,
              "content": "if direct_url.info.hash:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 21,
              "content": "fragments.append(direct_url.info.hash)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 40,
              "content": "link: Link, source_dir: str | None = None, link_is_in_wheel_cache: bool = False",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 49,
              "content": "if link_is_in_wheel_cache:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 50,
              "content": "# If the requested VCS link corresponds to a cached",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 52,
              "content": "# immutable commit hash, otherwise it would not have",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 53,
              "content": "# been cached. In that case we don't have a source_dir",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 58,
              "content": "# If the wheel was not in cache, it means we have",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 79,
              "content": "hash = None",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 80,
              "content": "hash_name = link.hash_name",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 80,
              "content": "hash_name = link.hash_name",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 81,
              "content": "if hash_name:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "hash = f\"{hash_name}={link.hash}\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "hash = f\"{hash_name}={link.hash}\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "hash = f\"{hash_name}={link.hash}\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "info=ArchiveInfo(hash=hash),",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "info=ArchiveInfo(hash=hash),",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 54,
              "content": "# with the VCS checkout.",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from pip._internal.models.direct_url import ArchiveInfo, DirectUrl, DirInfo, VcsInfo",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 4,
              "content": "from pip._internal.models.link import Link",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from pip._internal.utils.urls import path_to_url",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 6,
              "content": "from pip._internal.vcs import vcs",
              "severity": "good"
            }
          ],
          "green_score": 215
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/_jaraco_text.py",
          "lines_of_code": 109,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 71,
              "content": "A hash without a space may be in a URL.",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 41,
              "content": "def yield_lines(iterable):",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 43,
              "content": "Yield valid lines of a string or iterable.",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 45,
              "content": ">>> list(yield_lines(''))",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 47,
              "content": ">>> list(yield_lines(['foo', 'bar']))",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 49,
              "content": ">>> list(yield_lines('foo\\nbar'))",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 51,
              "content": ">>> list(yield_lines('\\nfoo\\n#bar\\nbaz #comment'))",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 53,
              "content": ">>> list(yield_lines(['foo\\nbar', 'baz', 'bing\\n\\n\\n']))",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 56,
              "content": "return itertools.chain.from_iterable(map(yield_lines, iterable))",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 59,
              "content": "@yield_lines.register(str)",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 109,
              "content": "yield item",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 15,
              "content": "deal in the Software without restriction, including without limitation the",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 24,
              "content": "IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 28,
              "content": "FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS",
              "severity": "good"
            }
          ],
          "green_score": 170
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/temp_dir.py",
          "lines_of_code": 294,
          "issues": [
            {
              "type": "memory_waste",
              "line": 39,
              "content": "global _tempdir_manager",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            },
            {
              "type": "memory_waste",
              "line": 72,
              "content": "\"\"\"Provides a scoped global tempdir registry that can be used to dictate",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            },
            {
              "type": "memory_waste",
              "line": 75,
              "content": "global _tempdir_registry",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 176,
              "content": "logger.debug(\"Created temporary directory: %s\", path)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 198,
              "content": "logger.debug(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 204,
              "content": "logger.debug(\"%s failed with %s.\", func.__qualname__, formatted_exc)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 293,
              "content": "logger.debug(\"Created temporary directory: %s\", path)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 29,
              "content": "EPHEM_WHEEL_CACHE=\"ephem-wheel-cache\",",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 29,
              "content": "EPHEM_WHEEL_CACHE=\"ephem-wheel-cache\",",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 9,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 38,
              "content": "def global_tempdir_manager() -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 43,
              "content": "yield",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 71,
              "content": "def tempdir_registry() -> Generator[TempDirectoryTypeRegistry, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 79,
              "content": "yield _tempdir_registry",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 251,
              "content": "def _generate_names(cls, name: str) -> Generator[str, None, None]:",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 265,
              "content": "yield new_name",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 274,
              "content": "yield new_name",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 9,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 38,
              "content": "def global_tempdir_manager() -> Generator[None, None, None]:",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 71,
              "content": "def tempdir_registry() -> Generator[TempDirectoryTypeRegistry, None, None]:",
              "severity": "good"
            },
            {
              "type": "lazy_loading",
              "line": 251,
              "content": "def _generate_names(cls, name: str) -> Generator[str, None, None]:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 40,
              "content": "with ExitStack() as stack:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 44,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 80,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 105,
              "content": "cleanup()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 118,
              "content": "ignore_cleanup_errors: bool = True,",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 128,
              "content": "# Otherwise, we wait until cleanup and see what",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 141,
              "content": "self.ignore_cleanup_errors = ignore_cleanup_errors",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 141,
              "content": "self.ignore_cleanup_errors = ignore_cleanup_errors",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 167,
              "content": "self.cleanup()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 179,
              "content": "def cleanup(self) -> None:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 204,
              "content": "logger.debug(\"%s failed with %s.\", func.__qualname__, formatted_exc)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 207,
              "content": "if self.ignore_cleanup_errors:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 209,
              "content": "# first try with @retry; retrying to handle ephemeral errors",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 243,
              "content": "# with leading '-' and invalid metadata",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 255,
              "content": "with ones that are valid filesystem characters, but are not",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 256,
              "content": "valid package names (for both Python and pip definitions of",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from collections.abc import Generator",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from contextlib import ExitStack, contextmanager",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from pathlib import Path",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip._internal.utils.misc import enum, rmtree",
              "severity": "good"
            }
          ],
          "green_score": 170
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/retry.py",
          "lines_of_code": 45,
          "issues": [
            {
              "type": "blocking_operations",
              "line": 41,
              "content": "sleep(wait)",
              "severity": "medium",
              "suggestion": {
                "message": "Replace with non-blocking async operations",
                "example": "Use async/await, Promise.all(), or background tasks"
              },
              "estimated_impact": "High (25-60% responsiveness improvement)"
            }
          ],
          "improvements": [
            {
              "type": "database_optimization",
              "line": 20,
              "content": "until it returns or the time limit is reached. When the time limit is",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 20,
              "content": "until it returns or the time limit is reached. When the time limit is",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 24,
              "content": ":param stop_after_delay: The time limit after which retries will cease,",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 19,
              "content": "If the function raises, the function is recalled with the same arguments",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 4,
              "content": "from time import perf_counter, sleep",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from typing import TYPE_CHECKING, Callable, TypeVar",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from typing_extensions import ParamSpec",
              "severity": "good"
            }
          ],
          "green_score": 125
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/appdirs.py",
          "lines_of_code": 52,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 15,
              "content": "def user_cache_dir(appname: str) -> str:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 16,
              "content": "return _appdirs.user_cache_dir(appname, appauthor=False)",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from pip._vendor import platformdirs as _appdirs",
              "severity": "good"
            }
          ],
          "green_score": 115
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/packaging.py",
          "lines_of_code": 44,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 12,
              "content": "@functools.lru_cache(maxsize=32)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 36,
              "content": "@functools.lru_cache(maxsize=10000)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 41,
              "content": "# constructed). This method adds a cache to requirement object creation to",
              "severity": "good"
            },
            {
              "type": "efficient_data_structures",
              "line": 30,
              "content": "requires_python_specifier = specifiers.SpecifierSet(requires_python)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 38,
              "content": "\"\"\"Construct a packaging.Requirement object with caching\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 40,
              "content": "# with a low diversity of different arguments (at least relative the number",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 6,
              "content": "from pip._vendor.packaging import specifiers, version",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from pip._vendor.packaging.requirements import Requirement",
              "severity": "good"
            }
          ],
          "green_score": 145
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/entrypoints.py",
          "lines_of_code": 88,
          "issues": [],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 41,
              "content": "\"To avoid this problem you can invoke Python with '-m pip' instead of \"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 53,
              "content": "# the first on PATH with that name.",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from pip._internal.cli.main import main",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from pip._internal.utils.compat import WINDOWS",
              "severity": "good"
            }
          ],
          "green_score": 125
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/filetypes.py",
          "lines_of_code": 24,
          "issues": [],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from pip._internal.utils.misc import splitext",
              "severity": "good"
            }
          ],
          "green_score": 105
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/compatibility_tags.py",
          "lines_of_code": 201,
          "issues": [],
          "improvements": [
            {
              "type": "efficient_data_structures",
              "line": 118,
              "content": "seen = set()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 1,
              "content": "\"\"\"Generate and work with PEP 425 Compatibility Tags.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 35,
              "content": "# with \"macosx\", for backwards-compatibility we extract the",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 55,
              "content": "# with \"ios\", for backwards-compatibility we extract the",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 83,
              "content": "# with the exception of wheels depending on ncurses. PEP 599 states",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 91,
              "content": "# manylinux1 wheels run on most manylinux2010 systems with the",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 72,
              "content": "return list(android_platforms(int(api_level), abi))",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 124,
              "content": "additions = [c for c in _get_custom_platforms(p) if c not in seen]",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            }
          ],
          "green_score": 145
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/urls.py",
          "lines_of_code": 55,
          "issues": [],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 6,
              "content": "from .compat import WINDOWS",
              "severity": "good"
            }
          ],
          "green_score": 105
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/hashes.py",
          "lines_of_code": 150,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 3,
              "content": "import hashlib",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 7,
              "content": "from pip._internal.exceptions import HashMismatch, HashMissing, InstallationError",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 7,
              "content": "from pip._internal.exceptions import HashMismatch, HashMissing, InstallationError",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 11,
              "content": "from hashlib import _Hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 11,
              "content": "from hashlib import _Hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 14,
              "content": "# The recommended hash algo of the moment. Change this whenever the state of",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 16,
              "content": "FAVORITE_HASH = \"sha256\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 19,
              "content": "# Names of hashlib algorithms allowed by the --hash option and ``pip hash``",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 19,
              "content": "# Names of hashlib algorithms allowed by the --hash option and ``pip hash``",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 19,
              "content": "# Names of hashlib algorithms allowed by the --hash option and ``pip hash``",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 21,
              "content": "STRONG_HASHES = [\"sha256\", \"sha384\", \"sha512\"]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 24,
              "content": "class Hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 25,
              "content": "\"\"\"A wrapper that builds multiple hashes at once and checks them against",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 30,
              "content": "def __init__(self, hashes: dict[str, list[str]] | None = None) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 32,
              "content": ":param hashes: A dict of algorithm names pointing to lists of allowed",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 36,
              "content": "if hashes is not None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 37,
              "content": "for alg, keys in hashes.items():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "def __and__(self, other: Hashes) -> Hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "def __and__(self, other: Hashes) -> Hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 43,
              "content": "if not isinstance(other, Hashes):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 46,
              "content": "# If either of the Hashes object is entirely empty (i.e. no hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 46,
              "content": "# If either of the Hashes object is entirely empty (i.e. no hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 47,
              "content": "# specified at all), all hashes from the other object are allowed.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 53,
              "content": "# Otherwise only hashes that present in both objects are allowed.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 59,
              "content": "return Hashes(new)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 65,
              "content": "def is_hash_allowed(self, hash_name: str, hex_digest: str) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 65,
              "content": "def is_hash_allowed(self, hash_name: str, hex_digest: str) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 67,
              "content": "return hex_digest in self._allowed.get(hash_name, [])",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 70,
              "content": "\"\"\"Check good hashes against ones built from iterable of chunks of",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 73,
              "content": "Raise HashMismatch if none match.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 77,
              "content": "for hash_name in self._allowed.keys():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 79,
              "content": "gots[hash_name] = hashlib.new(hash_name)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 79,
              "content": "gots[hash_name] = hashlib.new(hash_name)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 79,
              "content": "gots[hash_name] = hashlib.new(hash_name)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 81,
              "content": "raise InstallationError(f\"Unknown hash name: {hash_name}\")",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 81,
              "content": "raise InstallationError(f\"Unknown hash name: {hash_name}\")",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 84,
              "content": "for hash in gots.values():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "hash.update(chunk)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 87,
              "content": "for hash_name, got in gots.items():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 88,
              "content": "if got.hexdigest() in self._allowed[hash_name]:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 92,
              "content": "def _raise(self, gots: dict[str, _Hash]) -> NoReturn:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 93,
              "content": "raise HashMismatch(self._allowed, gots)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 96,
              "content": "\"\"\"Check good hashes against a file-like object",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 98,
              "content": "Raise HashMismatch if none match.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 107,
              "content": "def has_one_of(self, hashes: dict[str, str]) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 108,
              "content": "\"\"\"Return whether any of the given hashes are allowed.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 109,
              "content": "for hash_name, hex_digest in hashes.items():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 109,
              "content": "for hash_name, hex_digest in hashes.items():",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 110,
              "content": "if self.is_hash_allowed(hash_name, hex_digest):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 110,
              "content": "if self.is_hash_allowed(hash_name, hex_digest):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 115,
              "content": "\"\"\"Return whether I know any known-good hashes.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 119,
              "content": "if not isinstance(other, Hashes):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 123,
              "content": "def __hash__(self) -> int:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 124,
              "content": "return hash(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 135,
              "content": "class MissingHashes(Hashes):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 135,
              "content": "class MissingHashes(Hashes):",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 136,
              "content": "\"\"\"A workalike for Hashes used when we're missing a hash for a requirement",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 136,
              "content": "\"\"\"A workalike for Hashes used when we're missing a hash for a requirement",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 138,
              "content": "It computes the actual hash of the requirement and raises a HashMissing",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 138,
              "content": "It computes the actual hash of the requirement and raises a HashMissing",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 144,
              "content": "\"\"\"Don't offer the ``hashes`` kwarg.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 145,
              "content": "# Pass our favorite hash in to generate a \"gotten hash\". With the",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 145,
              "content": "# Pass our favorite hash in to generate a \"gotten hash\". With the",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 147,
              "content": "super().__init__(hashes={FAVORITE_HASH: []})",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 147,
              "content": "super().__init__(hashes={FAVORITE_HASH: []})",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 149,
              "content": "def _raise(self, gots: dict[str, _Hash]) -> NoReturn:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 150,
              "content": "raise HashMissing(gots[FAVORITE_HASH].hexdigest())",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 150,
              "content": "raise HashMissing(gots[FAVORITE_HASH].hexdigest())",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 104,
              "content": "with open(path, \"rb\") as file:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 145,
              "content": "# Pass our favorite hash in to generate a \"gotten hash\". With the",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 39,
              "content": "allowed[alg] = [k.lower() for k in sorted(keys)]",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 58,
              "content": "new[alg] = [v for v in values if v in self._allowed[alg]]",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 63,
              "content": "return sum(len(digests) for digests in self._allowed.values())",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 4,
              "content": "from collections.abc import Iterable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from typing import TYPE_CHECKING, BinaryIO, NoReturn",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 7,
              "content": "from pip._internal.exceptions import HashMismatch, HashMissing, InstallationError",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from pip._internal.utils.misc import read_chunks",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from hashlib import _Hash",
              "severity": "good"
            }
          ],
          "green_score": 495
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/virtualenv.py",
          "lines_of_code": 105,
          "issues": [
            {
              "type": "memory_waste",
              "line": 69,
              "content": "\"being active. Assuming global site-packages is not accessible \"",
              "severity": "high",
              "suggestion": {
                "message": "Implement memory-efficient patterns",
                "example": "Use specific imports, avoid global variables, add proper cleanup"
              },
              "estimated_impact": "High (15-40% memory reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 26,
              "content": "This handles virtual environments created with pypa's virtualenv.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 45,
              "content": "# writes with UTF-8. (pypa/pip#8717)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 46,
              "content": "with open(pyvenv_cfg_file, encoding=\"utf-8\") as f:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 96,
              "content": "\"\"\"Returns a boolean, whether running in venv with no system site-packages.\"\"\"",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            }
          ],
          "green_score": 110
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/_log.py",
          "lines_of_code": 38,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 3,
              "content": "Defines custom logger class for the `logger.verbose(...)` method.",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 11,
              "content": "# custom log level for `--verbose` output",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 13,
              "content": "VERBOSE = 15",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 16,
              "content": "class VerboseLogger(logging.Logger):",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 17,
              "content": "\"\"\"Custom Logger, defining a verbose log-level",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 19,
              "content": "VERBOSE is between INFO and DEBUG.",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 22,
              "content": "def verbose(self, msg: str, *args: Any, **kwargs: Any) -> None:",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 23,
              "content": "return self.log(VERBOSE, msg, *args, **kwargs)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 26,
              "content": "def getLogger(name: str) -> VerboseLogger:",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 27,
              "content": "\"\"\"logging.getLogger, but ensures our VerboseLogger class is returned\"\"\"",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 28,
              "content": "return cast(VerboseLogger, logging.getLogger(name))",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 32,
              "content": "\"\"\"Register our VerboseLogger and VERBOSE log level.",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 32,
              "content": "\"\"\"Register our VerboseLogger and VERBOSE log level.",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 37,
              "content": "logging.setLoggerClass(VerboseLogger)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 38,
              "content": "logging.addLevelName(VERBOSE, \"VERBOSE\")",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 38,
              "content": "logging.addLevelName(VERBOSE, \"VERBOSE\")",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "efficient_loops",
              "line": 5,
              "content": "init_logging() must be called before any other modules that call logging.getLogger.",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from typing import Any, cast",
              "severity": "good"
            }
          ],
          "green_score": 0
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/glibc.py",
          "lines_of_code": 102,
          "issues": [],
          "improvements": [
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            }
          ],
          "green_score": 105
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/wheel.py",
          "lines_of_code": 132,
          "issues": [],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 1,
              "content": "\"\"\"Support functions for working with wheel files.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 61,
              "content": "f\".dist-info directory {info_dir!r} does not start with {canonical_name!r}\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 112,
              "content": "\"\"\"Raises errors or warns if called with an incompatible Wheel-Version.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 115,
              "content": "ahead of what it's compatible with (e.g 2.0 > 1.1); and warn when",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 125,
              "content": "\"{}'s Wheel-Version ({}) is not compatible with this version \"",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 43,
              "content": "subdirs = {p.split(\"/\", 1)[0] for p in source.namelist()}",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 45,
              "content": "info_dirs = [s for s in subdirs if s.endswith(\".dist-info\")]",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 4,
              "content": "from email.message import Message",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 5,
              "content": "from email.parser import Parser",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 6,
              "content": "from zipfile import BadZipFile, ZipFile",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from pip._vendor.packaging.utils import canonicalize_name",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from pip._internal.exceptions import UnsupportedWheel",
              "severity": "good"
            }
          ],
          "green_score": 160
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/unpacking.py",
          "lines_of_code": 362,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 34,
              "content": "logger.debug(\"bz2 module is not available\")",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 42,
              "content": "logger.debug(\"lzma module is not available\")",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "resource_cleanup",
              "line": 111,
              "content": "Unzip the file (with path `filename`) to the destination `location`.  All",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 113,
              "content": "not preserved), except that regular file members with any execute",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 145,
              "content": "with open(fn, \"wb\") as destfp:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 147,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 148,
              "content": "fp.close()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 151,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 152,
              "content": "zipfp.close()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 157,
              "content": "Untar the file (with path `filename`) to the destination `location`.",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 159,
              "content": "are not preserved), except that regular file members with any execute",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 247,
              "content": "finally:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 248,
              "content": "tar.close()",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 324,
              "content": "with open(path, \"wb\") as destfp:",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 326,
              "content": "fp.close()",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 175,
              "content": "\"Cannot determine compression type for file %s\",",
              "severity": "good"
            },
            {
              "type": "compression_usage",
              "line": 347,
              "content": "content_type == \"application/x-gzip\"",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 182,
              "content": "leading = has_leading_dir([member.name for member in tar.getmembers()])",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 12,
              "content": "from collections.abc import Iterable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 13,
              "content": "from zipfile import ZipInfo",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 15,
              "content": "from pip._internal.exceptions import InstallationError",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 22,
              "content": "from pip._internal.utils.misc import ensure_dir",
              "severity": "good"
            }
          ],
          "green_score": 175
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/models/link.py",
          "lines_of_code": 613,
          "issues": [
            {
              "type": "excessive_logging",
              "line": 368,
              "content": "logger.debug(",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            },
            {
              "type": "excessive_logging",
              "line": 593,
              "content": "logger.debug(\"Ignoring egg= fragment in %s\", link)",
              "severity": "medium",
              "suggestion": {
                "message": "Remove debug logs from production code",
                "example": "Replace console.log/print with proper logging levels"
              },
              "estimated_impact": "Medium (5-15% I/O reduction possible)"
            }
          ],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 20,
              "content": "from pip._internal.utils.hashes import Hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 20,
              "content": "from pip._internal.utils.hashes import Hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 35,
              "content": "# Order matters, earlier hashes have a precedence over later hashes for what",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 35,
              "content": "# Order matters, earlier hashes have a precedence over later hashes for what",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 37,
              "content": "_SUPPORTED_HASHES = (\"sha512\", \"sha384\", \"sha256\", \"sha224\", \"sha1\", \"md5\")",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 41,
              "content": "class LinkHash:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 42,
              "content": "\"\"\"Links to content may have embedded hash values. This class parses those.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 44,
              "content": "`name` must be any member of `_SUPPORTED_HASHES`.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 48,
              "content": "parsing a hash name and value for correctness, and then checking whether that hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 48,
              "content": "parsing a hash name and value for correctness, and then checking whether that hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 49,
              "content": "conforms to a schema with `.is_hash_allowed()`.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 54,
              "content": "_hash_url_fragment_re = re.compile(",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 57,
              "content": "# against Hashes when hash-checking is needed. This is easier to debug than",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 57,
              "content": "# against Hashes when hash-checking is needed. This is easier to debug than",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 58,
              "content": "# proactively discarding an invalid hex digest, as we handle incorrect hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 59,
              "content": "# and malformed hashes in the same place.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 61,
              "content": "choices=\"|\".join(re.escape(hash_name) for hash_name in _SUPPORTED_HASHES)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 61,
              "content": "choices=\"|\".join(re.escape(hash_name) for hash_name in _SUPPORTED_HASHES)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 61,
              "content": "choices=\"|\".join(re.escape(hash_name) for hash_name in _SUPPORTED_HASHES)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 66,
              "content": "assert self.name in _SUPPORTED_HASHES",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 69,
              "content": "@functools.cache",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 70,
              "content": "def find_hash_url_fragment(cls, url: str) -> LinkHash | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 70,
              "content": "def find_hash_url_fragment(cls, url: str) -> LinkHash | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 72,
              "content": "match = cls._hash_url_fragment_re.search(url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 81,
              "content": "def as_hashes(self) -> Hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 81,
              "content": "def as_hashes(self) -> Hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "\"\"\"Return a Hashes instance which checks only for the current hash.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 82,
              "content": "\"\"\"Return a Hashes instance which checks only for the current hash.\"\"\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 83,
              "content": "return Hashes({self.name: [self.value]})",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "def is_hash_allowed(self, hashes: Hashes | None) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "def is_hash_allowed(self, hashes: Hashes | None) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 85,
              "content": "def is_hash_allowed(self, hashes: Hashes | None) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 87,
              "content": "Return True if the current hash is allowed by `hashes`.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 87,
              "content": "Return True if the current hash is allowed by `hashes`.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 89,
              "content": "if hashes is None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 91,
              "content": "return hashes.is_hash_allowed(self.name, hex_digest=self.value)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 91,
              "content": "return hashes.is_hash_allowed(self.name, hex_digest=self.value)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 98,
              "content": "hashes: dict[str, str] | None",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 101,
              "content": "if self.hashes is not None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 102,
              "content": "assert all(name in _SUPPORTED_HASHES for name in self.hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 102,
              "content": "assert all(name in _SUPPORTED_HASHES for name in self.hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 105,
              "content": "def supported_hashes(hashes: dict[str, str] | None) -> dict[str, str] | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 105,
              "content": "def supported_hashes(hashes: dict[str, str] | None) -> dict[str, str] | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 106,
              "content": "# Remove any unsupported hash types from the mapping. If this leaves no",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 107,
              "content": "# supported hashes, return None",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 108,
              "content": "if hashes is None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 110,
              "content": "hashes = {n: v for n, v in hashes.items() if n in _SUPPORTED_HASHES}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 110,
              "content": "hashes = {n: v for n, v in hashes.items() if n in _SUPPORTED_HASHES}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 110,
              "content": "hashes = {n: v for n, v in hashes.items() if n in _SUPPORTED_HASHES}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 111,
              "content": "if not hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 113,
              "content": "return hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 205,
              "content": "\"_hashes\",",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 210,
              "content": "\"cache_link_parsing\",",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 221,
              "content": "cache_link_parsing: bool = True,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 222,
              "content": "hashes: Mapping[str, str] | None = None,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 241,
              "content": "hashes for that file.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 242,
              "content": ":param cache_link_parsing: A flag that is used elsewhere to determine",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 243,
              "content": "whether resources retrieved from this link should be cached. PyPI",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 245,
              "content": ":param hashes: A mapping of hash names to digests to allow us to",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 245,
              "content": ":param hashes: A mapping of hash names to digests to allow us to",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 264,
              "content": "link_hash = LinkHash.find_hash_url_fragment(url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 264,
              "content": "link_hash = LinkHash.find_hash_url_fragment(url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 264,
              "content": "link_hash = LinkHash.find_hash_url_fragment(url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 265,
              "content": "hashes_from_link = {} if link_hash is None else link_hash.as_dict()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 265,
              "content": "hashes_from_link = {} if link_hash is None else link_hash.as_dict()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 265,
              "content": "hashes_from_link = {} if link_hash is None else link_hash.as_dict()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 266,
              "content": "if hashes is None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 267,
              "content": "self._hashes = hashes_from_link",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 267,
              "content": "self._hashes = hashes_from_link",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 269,
              "content": "self._hashes = {**hashes, **hashes_from_link}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 269,
              "content": "self._hashes = {**hashes, **hashes_from_link}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 269,
              "content": "self._hashes = {**hashes, **hashes_from_link}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 276,
              "content": "self.cache_link_parsing = cache_link_parsing",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 276,
              "content": "self.cache_link_parsing = cache_link_parsing",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 295,
              "content": "hashes = file_data.get(\"hashes\", {})",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 295,
              "content": "hashes = file_data.get(\"hashes\", {})",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 303,
              "content": "# The metadata info value may be a boolean, or a dict of hashes.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 305,
              "content": "# The file exists, and hashes have been supplied",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 306,
              "content": "metadata_file_data = MetadataFile(supported_hashes(metadata_info))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 308,
              "content": "# The file exists, but there are no hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 326,
              "content": "hashes=hashes,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 326,
              "content": "hashes=hashes,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 354,
              "content": "# the form \"hashname=hashval\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 354,
              "content": "# the form \"hashname=hashval\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 356,
              "content": "# The file exists, but there are no hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 362,
              "content": "# The file exists, and hashes have been supplied",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 363,
              "content": "hashname, sep, hashval = metadata_info.partition(\"=\")",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 363,
              "content": "hashname, sep, hashval = metadata_info.partition(\"=\")",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 365,
              "content": "metadata_file_data = MetadataFile(supported_hashes({hashname: hashval}))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 365,
              "content": "metadata_file_data = MetadataFile(supported_hashes({hashname: hashval}))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 365,
              "content": "metadata_file_data = MetadataFile(supported_hashes({hashname: hashval}))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 367,
              "content": "# Error - data is wrong. Treat as no hashes supplied.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 395,
              "content": "def __hash__(self) -> int:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 396,
              "content": "return hash(self.url)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 500,
              "content": "if self.metadata_file_data.hashes is None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 502,
              "content": "return Link(metadata_url, hashes=self.metadata_file_data.hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 502,
              "content": "return Link(metadata_url, hashes=self.metadata_file_data.hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 504,
              "content": "def as_hashes(self) -> Hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 504,
              "content": "def as_hashes(self) -> Hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 505,
              "content": "return Hashes({k: [v] for k, v in self._hashes.items()})",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 505,
              "content": "return Hashes({k: [v] for k, v in self._hashes.items()})",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 508,
              "content": "def hash(self) -> str | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 509,
              "content": "return next(iter(self._hashes.values()), None)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 512,
              "content": "def hash_name(self) -> str | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 513,
              "content": "return next(iter(self._hashes), None)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 541,
              "content": "def has_hash(self) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 542,
              "content": "return bool(self._hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 544,
              "content": "def is_hash_allowed(self, hashes: Hashes | None) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 544,
              "content": "def is_hash_allowed(self, hashes: Hashes | None) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 544,
              "content": "def is_hash_allowed(self, hashes: Hashes | None) -> bool:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 546,
              "content": "Return True if the link has a hash and it is allowed by `hashes`.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 546,
              "content": "Return True if the link has a hash and it is allowed by `hashes`.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 548,
              "content": "if hashes is None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 550,
              "content": "return any(hashes.is_hash_allowed(k, v) for k, v in self._hashes.items())",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 550,
              "content": "return any(hashes.is_hash_allowed(k, v) for k, v in self._hashes.items())",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 550,
              "content": "return any(hashes.is_hash_allowed(k, v) for k, v in self._hashes.items())",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 572,
              "content": "hash values, since it should have no impact the downloaded content. Note",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 582,
              "content": "hashes: dict[str, str]",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 600,
              "content": "# If there are multiple hash values under the same algorithm, use the",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 601,
              "content": "# first one. This matches the behavior of Link.hash_value.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 602,
              "content": "hashes = {k: fragment[k][0] for k in _SUPPORTED_HASHES if k in fragment}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 602,
              "content": "hashes = {k: fragment[k][0] for k in _SUPPORTED_HASHES if k in fragment}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 607,
              "content": "hashes=hashes,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 607,
              "content": "hashes=hashes,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 611,
              "content": "@functools.cache",
              "severity": "good"
            },
            {
              "type": "memory_optimization",
              "line": 201,
              "content": "__slots__ = [",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 30,
              "content": "from pip._internal.index.collector import IndexContent",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 30,
              "content": "from pip._internal.index.collector import IndexContent",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 199,
              "content": "\"\"\"Represents a parsed link from a Package Index's simple URL\"\"\"",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 217,
              "content": "comes_from: str | IndexContent | None = None,",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 226,
              "content": ":param comes_from: instance of IndexContent where the link was found,",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 297,
              "content": "# PEP 714: Indexes must use the name core-metadata, but",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 348,
              "content": "# PEP 714: Indexes must use the name data-core-metadata, but",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 369,
              "content": "\"Index returned invalid data-dist-info-metadata value: %s\",",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 598,
              "content": "except (IndexError, KeyError):",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 49,
              "content": "conforms to a schema with `.is_hash_allowed()`.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 96,
              "content": "\"\"\"Information about a core metadata file associated with a distribution.\"\"\"",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 170,
              "content": "For example, if ' ' occurs in the URL, it will be replaced with \"%20\",",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 179,
              "content": "# Temporarily replace scheme with file to ensure the URL generated by",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 188,
              "content": "A faster implementation of urllib.parse.urljoin with a shortcut",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 478,
              "content": "reason=f\"{self} contains an egg fragment with a non-PEP 508 name.\",",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 61,
              "content": "choices=\"|\".join(re.escape(hash_name) for hash_name in _SUPPORTED_HASHES)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 102,
              "content": "assert all(name in _SUPPORTED_HASHES for name in self.hashes)",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 505,
              "content": "return Hashes({k: [v] for k, v in self._hashes.items()})",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 550,
              "content": "return any(hashes.is_hash_allowed(k, v) for k, v in self._hashes.items())",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 602,
              "content": "hashes = {k: fragment[k][0] for k in _SUPPORTED_HASHES if k in fragment}",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from collections.abc import Mapping",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 11,
              "content": "from dataclasses import dataclass",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 18,
              "content": "from pip._internal.utils.deprecation import deprecated",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 19,
              "content": "from pip._internal.utils.filetypes import WHEEL_EXTENSION",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 20,
              "content": "from pip._internal.utils.hashes import Hashes",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 27,
              "content": "from pip._internal.utils.urls import path_to_url, url_to_path",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 30,
              "content": "from pip._internal.index.collector import IndexContent",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 532,
              "content": "from pip._internal.vcs import vcs",
              "severity": "good"
            }
          ],
          "green_score": 845
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/models/selection_prefs.py",
          "lines_of_code": 53,
          "issues": [],
          "improvements": [
            {
              "type": "memory_optimization",
              "line": 14,
              "content": "__slots__ = [",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 40,
              "content": "the index and links.",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 1,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from pip._internal.models.format_control import FormatControl",
              "severity": "good"
            }
          ],
          "green_score": 120
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/models/direct_url.py",
          "lines_of_code": 227,
          "issues": [],
          "improvements": [
            {
              "type": "cpu_efficient_algorithms",
              "line": 103,
              "content": "hash: str | None = None,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 104,
              "content": "hashes: dict[str, str] | None = None,",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 106,
              "content": "# set hashes before hash, since the hash setter will further populate hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 106,
              "content": "# set hashes before hash, since the hash setter will further populate hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 106,
              "content": "# set hashes before hash, since the hash setter will further populate hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 106,
              "content": "# set hashes before hash, since the hash setter will further populate hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 107,
              "content": "self.hashes = hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 107,
              "content": "self.hashes = hashes",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 108,
              "content": "self.hash = hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 108,
              "content": "self.hash = hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 111,
              "content": "def hash(self) -> str | None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 112,
              "content": "return self._hash",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 114,
              "content": "@hash.setter",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 115,
              "content": "def hash(self, value: str | None) -> None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 117,
              "content": "# Auto-populate the hashes key to upgrade to the new format automatically.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 118,
              "content": "# We don't back-populate the legacy hash key from hashes.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 118,
              "content": "# We don't back-populate the legacy hash key from hashes.",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 120,
              "content": "hash_name, hash_value = value.split(\"=\", 1)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 120,
              "content": "hash_name, hash_value = value.split(\"=\", 1)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 123,
              "content": "f\"invalid archive_info.hash format: {value!r}\"",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 125,
              "content": "if self.hashes is None:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 126,
              "content": "self.hashes = {hash_name: hash_value}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 126,
              "content": "self.hashes = {hash_name: hash_value}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 126,
              "content": "self.hashes = {hash_name: hash_value}",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 127,
              "content": "elif hash_name not in self.hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 127,
              "content": "elif hash_name not in self.hashes:",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 128,
              "content": "self.hashes = self.hashes.copy()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 128,
              "content": "self.hashes = self.hashes.copy()",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 129,
              "content": "self.hashes[hash_name] = hash_value",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 129,
              "content": "self.hashes[hash_name] = hash_value",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 129,
              "content": "self.hashes[hash_name] = hash_value",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 130,
              "content": "self._hash = value",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 136,
              "content": "return cls(hash=_get(d, str, \"hash\"), hashes=_get(d, dict, \"hashes\"))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 136,
              "content": "return cls(hash=_get(d, str, \"hash\"), hashes=_get(d, dict, \"hashes\"))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 136,
              "content": "return cls(hash=_get(d, str, \"hash\"), hashes=_get(d, dict, \"hashes\"))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 136,
              "content": "return cls(hash=_get(d, str, \"hash\"), hashes=_get(d, dict, \"hashes\"))",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 139,
              "content": "return _filter_none(hash=self.hash, hashes=self.hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 139,
              "content": "return _filter_none(hash=self.hash, hashes=self.hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 139,
              "content": "return _filter_none(hash=self.hash, hashes=self.hashes)",
              "severity": "good"
            },
            {
              "type": "cpu_efficient_algorithms",
              "line": 139,
              "content": "return _filter_none(hash=self.hash, hashes=self.hashes)",
              "severity": "good"
            },
            {
              "type": "resource_cleanup",
              "line": 183,
              "content": "\"\"\"url with user:password part removed unless it is formed with",
              "severity": "good"
            },
            {
              "type": "efficient_loops",
              "line": 54,
              "content": "infos = [info for info in infos if info is not None]",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 3,
              "content": "from __future__ import annotations",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 8,
              "content": "from collections.abc import Iterable",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 9,
              "content": "from dataclasses import dataclass",
              "severity": "good"
            },
            {
              "type": "minimal_dependencies",
              "line": 10,
              "content": "from typing import Any, ClassVar, TypeVar, Union",
              "severity": "good"
            }
          ],
          "green_score": 330
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/models/index.py",
          "lines_of_code": 28,
          "issues": [],
          "improvements": [
            {
              "type": "memory_optimization",
              "line": 7,
              "content": "__slots__ = [\"url\", \"netloc\", \"simple_url\", \"pypi_url\", \"file_storage_domain\"]",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 4,
              "content": "class PackageIndex:",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 5,
              "content": "\"\"\"Represents a Package Index and provides easier access to endpoints\"\"\"",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 25,
              "content": "PyPI = PackageIndex(\"https://pypi.org/\", file_storage_domain=\"files.pythonhosted.org\")",
              "severity": "good"
            },
            {
              "type": "database_optimization",
              "line": 26,
              "content": "TestPyPI = PackageIndex(",
              "severity": "good"
            }
          ],
          "green_score": 125
        }
      ],
      "file_improvements": []
    },
    "file_complexity": [
      {
        "file": "job_summary_script.py",
        "lines": 156,
        "functions": 3,
        "classes": 0,
        "comments": 15,
        "complexity_score": 65
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/__init__.py",
        "lines": 13,
        "functions": 1,
        "classes": 0,
        "comments": 0,
        "complexity_score": 99
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/__pip-runner__.py",
        "lines": 50,
        "functions": 2,
        "classes": 1,
        "comments": 4,
        "complexity_score": 86
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/__main__.py",
        "lines": 24,
        "functions": 0,
        "classes": 0,
        "comments": 10,
        "complexity_score": 92
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/configuration.py",
        "lines": 396,
        "functions": 24,
        "classes": 2,
        "comments": 33,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/pyproject.py",
        "lines": 123,
        "functions": 3,
        "classes": 0,
        "comments": 20,
        "complexity_score": 44
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/cache.py",
        "lines": 291,
        "functions": 17,
        "classes": 6,
        "comments": 19,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/__init__.py",
        "lines": 18,
        "functions": 1,
        "classes": 0,
        "comments": 2,
        "complexity_score": 99
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/exceptions.py",
        "lines": 898,
        "functions": 48,
        "classes": 40,
        "comments": 25,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/main.py",
        "lines": 12,
        "functions": 1,
        "classes": 0,
        "comments": 0,
        "complexity_score": 99
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/wheel_builder.py",
        "lines": 261,
        "functions": 7,
        "classes": 0,
        "comments": 17,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/self_outdated_check.py",
        "lines": 262,
        "functions": 11,
        "classes": 2,
        "comments": 16,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/build_env.py",
        "lines": 417,
        "functions": 18,
        "classes": 6,
        "comments": 27,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/auth.py",
        "lines": 564,
        "functions": 31,
        "classes": 6,
        "comments": 74,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/xmlrpc.py",
        "lines": 61,
        "functions": 2,
        "classes": 1,
        "comments": 0,
        "complexity_score": 72
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/download.py",
        "lines": 342,
        "functions": 17,
        "classes": 2,
        "comments": 17,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/session.py",
        "lines": 528,
        "functions": 15,
        "classes": 7,
        "comments": 83,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/cache.py",
        "lines": 128,
        "functions": 13,
        "classes": 2,
        "comments": 7,
        "complexity_score": 56
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/__init__.py",
        "lines": 1,
        "functions": 0,
        "classes": 0,
        "comments": 0,
        "complexity_score": 100
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/utils.py",
        "lines": 98,
        "functions": 2,
        "classes": 0,
        "comments": 47,
        "complexity_score": 42
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/network/lazy_wheel.py",
        "lines": 215,
        "functions": 20,
        "classes": 2,
        "comments": 7,
        "complexity_score": 1
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/logging.py",
        "lines": 364,
        "functions": 17,
        "classes": 10,
        "comments": 24,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/misc.py",
        "lines": 765,
        "functions": 64,
        "classes": 3,
        "comments": 30,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/egg_link.py",
        "lines": 81,
        "functions": 3,
        "classes": 0,
        "comments": 0,
        "complexity_score": 62
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/compat.py",
        "lines": 85,
        "functions": 5,
        "classes": 0,
        "comments": 11,
        "complexity_score": 75
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/deprecation.py",
        "lines": 126,
        "functions": 3,
        "classes": 1,
        "comments": 6,
        "complexity_score": 51
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/subprocess.py",
        "lines": 248,
        "functions": 6,
        "classes": 0,
        "comments": 36,
        "complexity_score": 0
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/filesystem.py",
        "lines": 164,
        "functions": 10,
        "classes": 0,
        "comments": 18,
        "complexity_score": 12
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/direct_url_helpers.py",
        "lines": 87,
        "functions": 3,
        "classes": 0,
        "comments": 9,
        "complexity_score": 41
      },
      {
        "file": ".venv/lib/python3.9/site-packages/pip/_internal/utils/__init__.py",
        "lines": 0,
        "functions": 0,
        "classes": 0,
        "comments": 0,
        "complexity_score": 100
      }
    ],
    "performance_analysis": {
      "inefficient_loops": 312,
      "missing_async": 308,
      "potential_memory_leaks": 0,
      "console_logs": 5,
      "caching_usage": 245
    },
    "dependency_analysis": {
      "package_json": {
        "total_dependencies": 0
      },
      "requirements_txt": {
        "total_requirements": 0
      },
      "imports": {
        "python_imports": 226,
        "js_imports": 6
      }
    }
  },
  "visualizations": {
    "sustainability_radar": {
      "labels": [
        "overall_score",
        "energy_efficiency",
        "resource_utilization",
        "performance_optimization",
        "sustainable_practices",
        "code_quality",
        "dependency_efficiency",
        "maintainability",
        "green_coding_score",
        "cpu_efficiency",
        "memory_efficiency",
        "energy_saving_practices"
      ],
      "values": [
        26.29464429719301,
        43.7875,
        47.52777777777778,
        49.86666666666667,
        90,
        39.86666666666667,
        100,
        100,
        100.0,
        100,
        100,
        100
      ],
      "chart_type": "radar"
    },
    "file_complexity_distribution": {
      "labels": [
        "job_summary_script.py",
        ".venv/lib/python3.9/site-packages/pip/__init__.py",
        ".venv/lib/python3.9/site-packages/pip/__pip-runner__.py",
        ".venv/lib/python3.9/site-packages/pip/__main__.py",
        ".venv/lib/python3.9/site-packages/pip/_internal/configuration.py",
        ".venv/lib/python3.9/site-packages/pip/_internal/pyproject.py",
        ".venv/lib/python3.9/site-packages/pip/_internal/cache.py",
        ".venv/lib/python3.9/site-packages/pip/_internal/__init__.py",
        ".venv/lib/python3.9/site-packages/pip/_internal/exceptions.py",
        ".venv/lib/python3.9/site-packages/pip/_internal/main.py"
      ],
      "values": [
        65,
        99,
        86,
        92,
        0,
        44,
        0,
        99,
        0,
        99
      ],
      "chart_type": "bar"
    },
    "performance_issues_breakdown": {
      "labels": [
        "inefficient_loops",
        "missing_async",
        "potential_memory_leaks",
        "console_logs",
        "caching_usage"
      ],
      "values": [
        312,
        308,
        0,
        5,
        245
      ],
      "chart_type": "pie"
    },
    "trend_analysis": {
      "timeline": [
        "Current",
        "After Quick Fixes",
        "After Full Implementation"
      ],
      "overall_score": [
        26.29464429719301,
        41.29464429719301,
        61.29464429719301
      ],
      "chart_type": "line"
    }
  },
  "recommendations": [
    {
      "title": "\u26a0\ufe0f Add Error Handling",
      "priority": "medium",
      "description": "Found 2 files with API/file operations lacking proper error handling",
      "affected_files": "job_summary_script.py, .venv/lib/python3.9/site-packages/pip/_internal/build_env.py",
      "files_count": 2,
      "improvement_percentage": "15-25%",
      "impact": "Improved reliability and production stability",
      "detailed_files": [
        {
          "file": "job_summary_script.py",
          "issue": "Missing try/catch for API calls or file operations"
        },
        {
          "file": ".venv/lib/python3.9/site-packages/pip/_internal/build_env.py",
          "issue": "Missing try/catch for API calls or file operations"
        }
      ]
    },
    {
      "title": "\ud83d\udc0d Python Performance Optimization",
      "priority": "medium",
      "description": "Implement list comprehensions, use built-in functions, and consider using numpy for data processing",
      "affected_files": "job_summary_script.py, .venv/lib/python3.9/site-packages/pip/__init__.py, .venv/lib/python3.9/site-packages/pip/__pip-runner__.py",
      "files_count": 5,
      "improvement_percentage": "15-40%",
      "impact": "Python code performance improvement"
    }
  ],
  "benchmarking": {
    "industry_standards": {
      "startup_average": 45,
      "enterprise_average": 65,
      "sustainability_leader": 85,
      "current_project": 26.29464429719301
    },
    "percentile_ranking": "Bottom 25%",
    "improvement_targets": {
      "3_months": 46.29464429719301,
      "6_months": 61.29464429719301,
      "12_months": 76.294644297193
    }
  },
  "trends_analysis": {
    "current_trajectory": "Improvement needed",
    "risk_assessment": [
      "Low: No major sustainability risks identified"
    ],
    "growth_projections": {
      "conservative": "+10-15 points over 6 months",
      "realistic": "+20-30 points over 6 months",
      "optimistic": "+35-45 points over 6 months"
    }
  },
  "quality_gates": {
    "sustainability_threshold": {
      "threshold": 75,
      "current": 26.29464429719301,
      "status": "FAIL"
    },
    "energy_efficiency": {
      "threshold": 60,
      "current": 43.7875,
      "status": "FAIL"
    },
    "code_quality": {
      "threshold": 70,
      "current": 39.86666666666667,
      "status": "FAIL"
    },
    "overall_assessment": {
      "gates_passed": "0/3",
      "pass_rate": "0.0%",
      "overall_status": "FAIL"
    }
  }
}