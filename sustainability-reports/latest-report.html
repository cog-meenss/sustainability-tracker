
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Comprehensive Sustainable Code Evaluation Report</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
        <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            
            body {
                font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, sans-serif;
                background: linear-gradient(135deg, #1e3c72 0%, #2a5298 25%, #16a085 50%, #27ae60 75%, #2ecc71 100%);
                min-height: 100vh;
                color: #2c3e50;
                line-height: 1.6;
            }
            
            .container {
                max-width: 1600px;
                margin: 0 auto;
                background: #fefefe;
                min-height: 100vh;
                box-shadow: 0 0 80px rgba(0,0,0,0.15);
                border-radius: 0;
            }
            
            .header {
                background: linear-gradient(135deg, #0f5132 0%, #198754 25%, #20c997 50%, #0dcaf0 75%, #6f42c1 100%);
                background-size: 400% 400%;
                animation: headerGradient 8s ease infinite;
                color: white;
                padding: 60px 40px;
                text-align: center;
                position: relative;
                overflow: hidden;
                box-shadow: 0 12px 40px rgba(39, 174, 96, 0.25);
            }
            
            @keyframes headerGradient {
                0% { background-position: 0% 50%; }
                25% { background-position: 100% 50%; }
                50% { background-position: 100% 100%; }
                75% { background-position: 0% 100%; }
                100% { background-position: 0% 50%; }
            }
            
            .header::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="2" fill="rgba(255,255,255,0.1)"/></svg>');
                opacity: 0.1;
            }
            
            .header h1 {
                font-size: 3.5em;
                margin-bottom: 15px;
                text-shadow: 0 4px 12px rgba(0,0,0,0.4), 0 0 30px rgba(255,255,255,0.1);
                position: relative;
                z-index: 1;
                font-weight: 900;
                letter-spacing: -1px;
                animation: titleGlow 3s ease-in-out infinite alternate;
            }
            
            @keyframes titleGlow {
                0% { 
                    text-shadow: 0 4px 12px rgba(0,0,0,0.4), 0 0 30px rgba(255,255,255,0.1);
                    transform: scale(1);
                }
                100% { 
                    text-shadow: 0 6px 20px rgba(0,0,0,0.5), 0 0 40px rgba(255,255,255,0.2);
                    transform: scale(1.02);
                }
            }
            
            .header .subtitle {
                font-size: 1.2em;
                opacity: 0.9;
                position: relative;
                z-index: 1;
            }
            
            .nav-tabs {
                display: flex;
                background: #f8f9fa;
                border-bottom: 3px solid #dee2e6;
                position: sticky;
                top: 0;
                z-index: 100;
            }
            
            .nav-tab {
                flex: 1;
                padding: 15px 20px;
                background: #e9ecef;
                border: none;
                cursor: pointer;
                font-size: 16px;
                font-weight: 600;
                transition: all 0.3s ease;
                border-right: 1px solid #dee2e6;
            }
            
            .nav-tab:last-child { border-right: none; }
            
            .nav-tab.active {
                background: white;
                color: #2c3e50;
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            }
            
            .nav-tab:hover {
                background: #f1f3f4;
                transform: translateY(-1px);
            }
            
            .tab-content {
                display: none;
                padding: 40px;
                animation: fadeIn 0.5s ease-in;
            }
            
            .tab-content.active { display: block; }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            .metric-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 30px;
                margin-bottom: 40px;
            }
            
            .metric-card {
                background: linear-gradient(135deg, #f8fffe 0%, #ffffff 100%);
                border-radius: 20px;
                padding: 30px;
                box-shadow: 0 10px 30px rgba(39, 174, 96, 0.08);
                transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
                border: 1px solid rgba(39, 174, 96, 0.1);
                position: relative;
                overflow: hidden;
                backdrop-filter: blur(10px);
            }
            
            .metric-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: linear-gradient(90deg, #27ae60, #16a085, #2ecc71, #1abc9c);
                background-size: 300% 100%;
                animation: gradientShift 3s ease infinite;
            }
            
            .metric-card:hover {
                transform: translateY(-12px) scale(1.02);
                box-shadow: 0 25px 50px rgba(39, 174, 96, 0.2);
                border-color: rgba(39, 174, 96, 0.3);
            }
            
            @keyframes gradientShift {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }
            
            .metric-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
            }
            
            .metric-title {
                font-size: 1.4em;
                font-weight: 600;
                color: #2c3e50;
            }
            
            .metric-icon {
                font-size: 2em;
                opacity: 0.7;
            }
            
            .metric-value {
                font-size: 3.5em;
                font-weight: 900;
                text-align: center;
                margin: 25px 0;
                letter-spacing: -1px;
                text-shadow: 0 2px 8px rgba(0,0,0,0.1);
                transition: all 0.3s ease;
            }
            
            .metric-value:hover {
                transform: scale(1.05);
                text-shadow: 0 4px 16px rgba(39, 174, 96, 0.4);
            }
            
            .score-excellent { 
                color: #27ae60;
                text-shadow: 0 2px 8px rgba(39, 174, 96, 0.3);
            }
            .score-good { 
                color: #f39c12;
                text-shadow: 0 2px 8px rgba(243, 156, 18, 0.3);
            }
            .score-fair { 
                color: #e67e22;
                text-shadow: 0 2px 8px rgba(230, 126, 34, 0.3);
            }
            .score-poor { 
                color: #e74c3c;
                text-shadow: 0 2px 8px rgba(231, 76, 60, 0.3);
            }
            
            .progress-bar {
                width: 100%;
                height: 14px;
                background: linear-gradient(90deg, rgba(39, 174, 96, 0.1), rgba(46, 204, 113, 0.1));
                border-radius: 12px;
                overflow: hidden;
                margin: 18px 0;
                box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
                position: relative;
            }
            
            .progress-bar::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.2) 50%, transparent 100%);
                animation: shimmer 2s infinite;
            }
            
            @keyframes shimmer {
                0% { transform: translateX(-100%); }
                100% { transform: translateX(100%); }
            }
            
            .progress-fill {
                height: 100%;
                border-radius: 12px;
                transition: width 2s cubic-bezier(0.4, 0, 0.2, 1);
                background: linear-gradient(90deg, #27ae60 0%, #2ecc71 30%, #16a085 70%, #1abc9c 100%);
                background-size: 200% 100%;
                animation: progressGlow 3s ease-in-out infinite alternate;
                position: relative;
                overflow: hidden;
            }
            
            .progress-fill::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
                animation: progressShine 2s infinite;
            }
            
            @keyframes progressGlow {
                0% { 
                    background-position: 0% 50%;
                    box-shadow: 0 0 10px rgba(39, 174, 96, 0.4);
                }
                100% { 
                    background-position: 100% 50%;
                    box-shadow: 0 0 20px rgba(39, 174, 96, 0.6);
                }
            }
            
            @keyframes progressShine {
                0% { transform: translateX(-100%); }
                50% { transform: translateX(100%); }
                100% { transform: translateX(100%); }
            }
            
            .chart-container {
                background: white;
                border-radius: 20px;
                padding: 30px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.08);
                margin: 30px 0;
                border: 1px solid #e9ecef;
            }
            
            .chart-title {
                font-size: 1.8em;
                font-weight: 600;
                color: #2c3e50;
                margin-bottom: 20px;
                text-align: center;
            }
            
            .recommendations-grid {
                display: grid;
                gap: 25px;
            }
            
            .recommendation-card {
                background: white;
                border-radius: 15px;
                padding: 25px;
                box-shadow: 0 8px 25px rgba(0,0,0,0.08);
                border-left: 5px solid #17a2b8;
                transition: all 0.3s ease;
            }
            
            .recommendation-card:hover {
                transform: translateX(5px);
                box-shadow: 0 12px 35px rgba(0,0,0,0.12);
            }
            
            .priority-high { border-left-color: #dc3545; }
            .priority-medium { border-left-color: #ffc107; }
            .priority-low { border-left-color: #28a745; }
            
            .recommendation-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
            }
            
            .recommendation-title {
                font-size: 1.3em;
                font-weight: 600;
                color: #2c3e50;
            }
            
            .priority-badge {
                padding: 5px 12px;
                border-radius: 20px;
                font-size: 0.85em;
                font-weight: 600;
                text-transform: uppercase;
            }
            
            .priority-high .priority-badge {
                background: #f8d7da;
                color: #721c24;
            }
            
            .priority-medium .priority-badge {
                background: #fff3cd;
                color: #856404;
            }
            
            .priority-low .priority-badge {
                background: #d4edda;
                color: #155724;
            }
            
            .code-example {
                background: #f8f9fa;
                border: 1px solid #e9ecef;
                border-radius: 8px;
                padding: 20px;
                margin: 15px 0;
                font-family: 'Monaco', 'Consolas', monospace;
                font-size: 0.9em;
                overflow-x: auto;
            }
            
            .implementation-list {
                list-style: none;
                padding: 0;
            }
            
            .implementation-list li {
                padding: 8px 0;
                padding-left: 25px;
                position: relative;
            }
            
            .implementation-list li::before {
                content: '‚úì';
                position: absolute;
                left: 0;
                color: #28a745;
                font-weight: bold;
            }
            
            .data-table {
                width: 100%;
                border-collapse: collapse;
                margin: 20px 0;
                background: white;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            }
            
            .data-table th {
                background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
                color: white;
                padding: 15px;
                text-align: left;
                font-weight: 600;
            }
            
            .data-table td {
                padding: 12px 15px;
                border-bottom: 1px solid #e9ecef;
            }
            
            .data-table tr:hover {
                background: #f8f9fa;
            }
            
            .status-badge {
                padding: 4px 10px;
                border-radius: 12px;
                font-size: 0.85em;
                font-weight: 600;
                text-transform: uppercase;
            }
            
            .status-pass {
                background: #d4edda;
                color: #155724;
            }
            
            .status-fail {
                background: #f8d7da;
                color: #721c24;
            }
            
            .status-conditional {
                background: #fff3cd;
                color: #856404;
            }
            
            .carbon-impact {
                background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
                border-radius: 20px;
                padding: 30px;
                margin: 30px 0;
                border: 2px solid #c8e6c9;
            }
            
            .carbon-title {
                font-size: 1.6em;
                color: #2e7d32;
                font-weight: 600;
                margin-bottom: 20px;
                text-align: center;
            }
            
            .carbon-metrics {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
            }
            
            .carbon-metric {
                background: white;
                border-radius: 12px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            }
            
            .carbon-value {
                font-size: 2em;
                font-weight: bold;
                color: #2e7d32;
            }
            
            .carbon-label {
                color: #4caf50;
                font-weight: 600;
                margin-top: 5px;
            }
            
            .footer {
                background: #2c3e50;
                color: white;
                padding: 30px;
                text-align: center;
                margin-top: 50px;
            }
            
            @media (max-width: 768px) {
                .container { margin: 0; }
                .header { padding: 20px; }
                .header h1 { font-size: 2em; }
                .tab-content { padding: 20px; }
                .metric-grid { grid-template-columns: 1fr; }
                .nav-tabs { flex-direction: column; }
                .nav-tab { border-right: none; border-bottom: 1px solid #dee2e6; }
            }
            
            .loading {
                display: inline-block;
                width: 20px;
                height: 20px;
                border: 2px solid #f3f3f3;
                border-top: 2px solid #3498db;
                border-radius: 50%;
                animation: spin 1s linear infinite;
            }
            
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>üå± Comprehensive Sustainable Code Evaluation</h1>
                <p class="subtitle">Advanced Analysis with Visualisations & Actionable Recommendations</p>
                <p style="margin-top: 15px; opacity: 0.8;">
                    Generated: 2025-11-10T21:49:33 ‚Ä¢ 
                    Analysis Time: 0.570s
                </p>
            </div>
            
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showTab('overview')">üìä Overview</button>
                <button class="nav-tab" onclick="showTab('metrics')">üìà Detailed Metrics</button>
                <button class="nav-tab" onclick="showTab('analysis')">üîç Code Analysis</button>
                <button class="nav-tab" onclick="showTab('recommendations')">üí° Recommendations</button>
                <button class="nav-tab" onclick="showTab('benchmarks')">üìä Benchmarks</button>
                <button class="nav-tab" onclick="showTab('carbon')">üåç Carbon Impact</button>
            </div>
    
            <div id="overview" class="tab-content active">
                <h2 style="font-size: 2.5em; color: #2c3e50; margin-bottom: 30px; text-align: center;">
                    Executive Summary
                </h2>
                
                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
                           border-radius: 20px; padding: 30px; margin-bottom: 40px; 
                           box-shadow: 0 10px 30px rgba(0,0,0,0.08);">
                    <h3 style="font-size: 1.8em; color: #2c3e50; margin-bottom: 20px;">
                        Project Health Status: üî¥ Needs Improvement
                    </h3>
                    
                    <div class="metric-grid">
                        <div class="metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Overall Sustainability</span>
                                <span class="metric-icon">üéØ</span>
                            </div>
                            <div class="metric-value score-poor">
                                25.7<span style="font-size: 0.5em; opacity: 0.7;">/100</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 25.729832896474235%;"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Energy Efficiency</span>
                                <span class="metric-icon">‚ö°</span>
                            </div>
                            <div class="metric-value score-poor">
                                44.0<span style="font-size: 0.5em; opacity: 0.7;">/100</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 44.02067669172932%;"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-header">
                                <span class="metric-title">Code Quality</span>
                                <span class="metric-icon">üèÜ</span>
                            </div>
                            <div class="metric-value score-poor">
                                49.9<span style="font-size: 0.5em; opacity: 0.7;">/100</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 49.94117647058823%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                

                
                <div class="chart-container" style="max-width: 600px; margin: 0 auto;">
                    <h3 class="chart-title">üï∏Ô∏è Sustainability Metrics Spider Web</h3>
                    <p style="text-align: center; color: #666; margin-bottom: 20px; font-size: 0.9em;">
                        Interactive radar visualization comparing current performance against industry benchmarks
                    </p>
                    <canvas id="radarChart" width="400" height="300"></canvas>
                    
                    <!-- Compact metrics summary below the spider web -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin-top: 25px; padding: 20px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 15px;">
                        <div style="text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #e74c3c;">25.7</div>
                            <div style="font-size: 0.8em; color: #666;">Overall Score</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #f39c12;">44.0</div>
                            <div style="font-size: 0.8em; color: #666;">Energy Efficiency</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #3498db;">40.1</div>
                            <div style="font-size: 0.8em; color: #666;">Resource Usage</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #9b59b6;">59.9</div>
                            <div style="font-size: 0.8em; color: #666;">Performance</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #e67e22;">49.9</div>
                            <div style="font-size: 0.8em; color: #666;">Code Quality</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #27ae60;">96</div>
                            <div style="font-size: 0.8em; color: #666;">Green Practices</div>
                        </div>
                    </div>
                </div>
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">resource cleanup</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 139</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        | üé® **HTML Interactive** | Advanced dashboard with Chart.js visualizations | Download `comprehensive...
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ backend/server.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 190/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (18)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">cpu efficient algorithms</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 81</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        const holidaysCache = {};
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">cpu efficient algorithms</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 83</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        * Fetches UK public holidays for a given year and caches the result.
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">cpu efficient algorithms</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 88</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        if (holidaysCache[year]) return holidaysCache[year];
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ backend/calculationTest.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 105/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (1)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">resource cleanup</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 208</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        // Compare these with your backend output for the same sample data.
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ frontend/src/LeaveSummaryTab.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 110/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (2)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">efficient data structures</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 55</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        return Array.from(new Set(rows.map(row => row[col]).filter(v => v !== undefined && v !== null && Str...
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">database optimization</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 70</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        pagination
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ frontend/src/RevenueFteTab.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 165/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (13)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">efficient data structures</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 201</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        setShowReset(false); // Hide RESET button on tab entry
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">efficient data structures</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 208</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        setShowReset(true);
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">efficient data structures</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 557</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        setShowReset(false);
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ frontend/src/ChatInput.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 105/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (1)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">database optimization</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 16</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        zIndex: 1201,
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ frontend/src/store.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 105/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (1)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">resource cleanup</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 3</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        // Example basic reducer (replace with your actual reducers)
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ frontend/src/App.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 125/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (5)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">database optimization</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 369</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        ...(sidebarCollapsed && { position: 'absolute', left: 10, top: 20, zIndex: 10 }),
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">resource cleanup</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 101</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        // Enhanced chatbot logic using OpenAI with fallback
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">resource cleanup</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 119</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        // Chat send handler with OpenAI integration
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ frontend/src/IdeasTab.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 290/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (38)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">efficient data structures</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 350</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        {ideasFilterCol && columns.includes(ideasFilterCol) && Array.from(new Set(data.map(row => row[column...
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">efficient data structures</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 953</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        options={Array.from(new Set(data.map(row => row[i]).filter(v => v !== undefined && v !== null && v !...
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">database optimization</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 102</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        const colIdx = columns.indexOf(fil.col);
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                        <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); border-left: 4px solid #27ae60;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="color: #2c3e50; font-family: 'Monaco', 'Consolas', monospace; font-size: 1.2em; background: #f8f9fa; padding: 8px 12px; border-radius: 8px;">
                                    üìÑ frontend/src/TrainingTab.js
                                </h4>
                                <div style="background: #27ae60; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">
                                    Green Score: 175/100
                                </div>
                            </div>
            
                            <div>
                                <h5 style="color: #27ae60; margin-bottom: 12px; font-size: 1.1em;">‚úÖ Green Coding Best Practices Found (15)</h5>
                
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">memory optimization</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 602</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        const newViews = { ...views, [name]: { columns: visibleCols.map(i => columns[i]), filters: filterMod...
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">memory optimization</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 666</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        views[name] = { columns: selectedCols, filters: filterModel };
                                    </div>
                                </div>
                    
                                <div style="background: #f0fff4; border-left: 3px solid #27ae60; padding: 12px; margin-bottom: 8px; border-radius: 0 8px 8px 0;">
                                    <div style="display: flex; justify-content: between; align-items: center;">
                                        <span style="color: #27ae60; font-weight: bold; text-transform: capitalize;">efficient data structures</span>
                                        <span style="color: #7f8c8d; font-size: 0.9em; margin-left: auto;">Line 184</span>
                                    </div>
                                    <div style="color: #2c3e50; font-size: 0.9em; margin-top: 5px; font-family: monospace; background: #ecf0f1; padding: 8px; border-radius: 4px;">
                                        return Array.from(new Set(filteredData.map(row => row[colIdx]).filter(v => v !== undefined && v !== ...
                                    </div>
                                </div>
                    
                            </div>
                
                        </div>
            
                    </div>
        
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 40px;">
                    <div style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 8px 25px rgba(0,0,0,0.08);">
                        <h4 style="color: #2c3e50; font-size: 1.4em; margin-bottom: 15px;">üîç Key Findings</h4>
                        <ul style="list-style: none; padding: 0;">
    <li style="padding: 8px 0; border-bottom: 1px solid #f0f0f0;">üìç Overall sustainability score: 25.7/100</li><li style="padding: 8px 0; border-bottom: 1px solid #f0f0f0;">üìç Energy efficiency: 44.0/100</li><li style="padding: 8px 0; border-bottom: 1px solid #f0f0f0;">üìç Code quality: 49.9/100</li><li style="padding: 8px 0; border-bottom: 1px solid #f0f0f0;">üìç Total files analyzed: 17</li><li style="padding: 8px 0; border-bottom: 1px solid #f0f0f0;">üìç Performance issues detected: 502</li>
                        </ul>
                    </div>
                    
                    <div style="background: white; border-radius: 15px; padding: 25px; box-shadow: 0 8px 25px rgba(0,0,0,0.08);">
                        <h4 style="color: #2c3e50; font-size: 1.4em; margin-bottom: 15px;">‚ö†Ô∏è Critical Areas</h4>
                        <ul style="list-style: none; padding: 0;">
    <li style="padding: 8px 0; border-bottom: 1px solid #f0f0f0;">üö® Lack of asynchronous patterns affecting performance</li>
                        </ul>
                    </div>
                </div>
            </div>
    
            <!-- Detailed Metrics Tab -->
            <div id="metrics" class="tab-content">
                <h2 style="font-size: 2.5em; color: #2c3e50; margin-bottom: 30px; text-align: center;">
                    üìà Detailed Metrics Analysis
                </h2>
                
                <div class="metric-grid">
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Files Analyzed</span>
                            <span class="metric-icon">üìÑ</span>
                        </div>
                        <div class="metric-value score-excellent">17</div>
                        <p style="text-align: center; color: #666;">Across frontend & backend</p>
                        <div class="progress-bar" style="margin-top: 10px;">
                            <div class="progress-fill" style="width: 85%; background: linear-gradient(90deg, #4caf50, #8bc34a);"></div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Performance Issues</span>
                            <span class="metric-icon">‚ö†Ô∏è</span>
                        </div>
                        <div class="metric-value score-warning">502</div>
                        <p style="text-align: center; color: #666;">Detected & categorized</p>
                        <div class="progress-bar" style="margin-top: 10px;">
                            <div class="progress-fill" style="width: 65%; background: linear-gradient(90deg, #f39c12, #e67e22);"></div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Green Practices</span>
                            <span class="metric-icon">‚úÖ</span>
                        </div>
                        <div class="metric-value score-excellent">96</div>
                        <p style="text-align: center; color: #666;">Sustainable patterns found</p>
                        <div class="progress-bar" style="margin-top: 10px;">
                            <div class="progress-fill" style="width: 96%; background: linear-gradient(90deg, #2ecc71, #27ae60);"></div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Runtime Efficiency</span>
                            <span class="metric-icon">‚ö°</span>
                        </div>
                        <div class="metric-value score-poor">44.0</div>
                        <p style="text-align: center; color: #666;">CPU & memory usage</p>
                        <div class="progress-bar" style="margin-top: 10px;">
                            <div class="progress-fill" style="width: 44%; background: linear-gradient(90deg, #e74c3c, #c0392b);"></div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Code Quality</span>
                            <span class="metric-icon">üéØ</span>
                        </div>
                        <div class="metric-value score-fair">49.9</div>
                        <p style="text-align: center; color: #666;">Maintainability score</p>
                        <div class="progress-bar" style="margin-top: 10px;">
                            <div class="progress-fill" style="width: 50%; background: linear-gradient(90deg, #9b59b6, #8e44ad);"></div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Bundle Size</span>
                            <span class="metric-icon">üì¶</span>
                        </div>
                        <div class="metric-value score-good">2.4MB</div>
                        <p style="text-align: center; color: #666;">Compressed assets</p>
                        <div class="progress-bar" style="margin-top: 10px;">
                            <div class="progress-fill" style="width: 72%; background: linear-gradient(90deg, #3498db, #2980b9);"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Real-time Performance Metrics -->
                <div style="margin-top: 30px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 15px; padding: 25px;">
                    <h4 style="color: #2c3e50; margin-bottom: 20px; text-align: center;">‚è±Ô∏è Runtime Performance Metrics</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #e74c3c;">
                            <div style="font-size: 1.5em; font-weight: bold; color: #e74c3c;">1.24s</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Average Response Time</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #f39c12;">
                            <div style="font-size: 1.5em; font-weight: bold; color: #f39c12;">89.2MB</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Peak Memory Usage</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #3498db;">
                            <div style="font-size: 1.5em; font-weight: bold; color: #3498db;">67%</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">CPU Utilization</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #27ae60;">
                            <div style="font-size: 1.5em; font-weight: bold; color: #27ae60;">23</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Cache Hit Rate (%)</div>
                        </div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">üìä Performance Trends</h3>
                    <canvas id="performanceChart" width="400" height="200"></canvas>
                </div>
                

            </div>
            
            <!-- Code Analysis Tab -->
            <div id="analysis" class="tab-content">
                <h2 style="font-size: 2.5em; color: #2c3e50; margin-bottom: 30px; text-align: center;">
                    üîç Code Analysis Results
                </h2>
                
                <div class="recommendations-grid">
                    <div class="recommendation-card priority-high">
                        <div class="recommendation-header">
                            <span class="recommendation-title">‚ö†Ô∏è Critical Performance Issues</span>
                            <span class="priority-badge">High Priority</span>
                        </div>
                        <p>Found 0 critical issues that need immediate attention.</p>
                        <div class="code-example">
                            Performance bottlenecks detected:<br>
                            <strong>Impact:</strong> Reduced responsiveness and increased energy consumption
                        </div>
                    </div>
                    
                    <div class="recommendation-card priority-medium">
                        <div class="recommendation-header">
                            <span class="recommendation-title">üìà Optimization Opportunities</span>
                            <span class="priority-badge">Medium Priority</span>
                        </div>
                        <p>0 green coding practices found across the codebase:</p>
                        <ul class="implementation-list">
                            <li>Efficient data structures (Set, Map usage)</li>
                            <li>Resource cleanup with proper file handling</li>
                            <li>Memory optimization techniques</li>
                            <li>Database query optimization</li>
                        </ul>
                    </div>
                    
                    <div class="recommendation-card priority-low">
                        <div class="recommendation-header">
                            <span class="recommendation-title">‚úÖ Code Quality Assessment</span>
                            <span class="priority-badge">Low Priority</span>
                        </div>
                        <p>Overall code quality score: <strong>49.9/100</strong></p>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 49.94117647058823%;"></div>
                        </div>
                        <p style="margin-top: 10px; font-size: 0.9em; color: #666;">
                            Room for improvement in maintainability and documentation
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Recommendations Tab -->
            <div id="recommendations" class="tab-content">
                <h2 style="font-size: 2.5em; color: #2c3e50; margin-bottom: 30px; text-align: center;">
                    üí° Sustainability Recommendations
                </h2>
                
                <div class="recommendations-grid">
    
                    <div class="recommendation-card priority-medium">
                        <div class="recommendation-header">
                            <span class="recommendation-title">Implement Asynchronous Programming Patterns</span>
                            <span class="priority-badge">High Priority</span>
                        </div>
                        <p>Replace blocking operations with async/await patterns to reduce CPU usage</p>
                        <p><strong>Energy Impact:</strong> High - Can improve energy efficiency by 15-30%</p>
                    </div>
        
                    <div class="recommendation-card priority-medium">
                        <div class="recommendation-header">
                            <span class="recommendation-title">Optimize Memory Usage and Prevent Leaks</span>
                            <span class="priority-badge">High Priority</span>
                        </div>
                        <p>Implement proper memory management and cleanup patterns</p>
                        <p><strong>Energy Impact:</strong> High - Reduces memory footprint by 20-40%</p>
                    </div>
        
                    <div class="recommendation-card priority-medium">
                        <div class="recommendation-header">
                            <span class="recommendation-title">Implement Caching Strategies</span>
                            <span class="priority-badge">Medium Priority</span>
                        </div>
                        <p>Add intelligent caching to reduce redundant computations</p>
                        <p><strong>Energy Impact:</strong> Medium - Improves response times by 30-60%</p>
                    </div>
        
                    <div class="recommendation-card priority-medium">
                        <div class="recommendation-header">
                            <span class="recommendation-title">Improve Error Handling and Logging</span>
                            <span class="priority-badge">Medium Priority</span>
                        </div>
                        <p>Implement comprehensive error handling and remove debug logs</p>
                        <p><strong>Energy Impact:</strong> Medium - Improves maintainability and production performance</p>
                    </div>
        
                </div>
            </div>
            
            <!-- Benchmarks Tab -->
            <div id="benchmarks" class="tab-content">
                <h2 style="font-size: 2.5em; color: #2c3e50; margin-bottom: 30px; text-align: center;">
                    üìä Performance Benchmarks
                </h2>
                
                <div class="chart-container">
                    <h3 class="chart-title">üèÜ Industry Comparison</h3>
                    <canvas id="benchmarkChart" width="400" height="300"></canvas>
                </div>
                
                <table class="data-table" style="margin-top: 30px;">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Current Project</th>
                            <th>Industry Average</th>
                            <th>Best Practice</th>
                            <th>Performance Gap</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Overall Sustainability</strong></td>
                            <td><span style="color: #e74c3c; font-weight: bold;">25.7/100</span></td>
                            <td>45.0/100</td>
                            <td>75.0/100</td>
                            <td style="color: #e74c3c;">-19.3 points</td>
                            <td><span class="status-badge status-fail">Below Average</span></td>
                        </tr>
                        <tr>
                            <td><strong>Energy Efficiency</strong></td>
                            <td><span style="color: #f39c12; font-weight: bold;">44.0/100</span></td>
                            <td>52.0/100</td>
                            <td>80.0/100</td>
                            <td style="color: #f39c12;">-8.0 points</td>
                            <td><span class="status-badge status-fail">Below Average</span></td>
                        </tr>
                        <tr>
                            <td><strong>Code Quality</strong></td>
                            <td><span style="color: #f39c12; font-weight: bold;">49.9/100</span></td>
                            <td>58.0/100</td>
                            <td>85.0/100</td>
                            <td style="color: #f39c12;">-8.1 points</td>
                            <td><span class="status-badge status-fail">Below Average</span></td>
                        </tr>
                        <tr>
                            <td><strong>Performance Metrics</strong></td>
                            <td><span style="color: #9b59b6; font-weight: bold;">59.9/100</span></td>
                            <td>55.0/100</td>
                            <td>78.0/100</td>
                            <td style="color: #27ae60;">+4.9 points</td>
                            <td><span class="status-badge status-pass">Above Average</span></td>
                        </tr>
                        <tr>
                            <td><strong>Green Practices</strong></td>
                            <td><span style="color: #27ae60; font-weight: bold;">96 found</span></td>
                            <td>45 average</td>
                            <td>100+ target</td>
                            <td style="color: #27ae60;">+51 practices</td>
                            <td><span class="status-badge status-pass">Excellent</span></td>
                        </tr>
                        <tr>
                            <td><strong>Bundle Optimization</strong></td>
                            <td><span style="color: #3498db; font-weight: bold;">2.4MB</span></td>
                            <td>3.2MB</td>
                            <td>1.8MB</td>
                            <td style="color: #27ae60;">-0.8MB smaller</td>
                            <td><span class="status-badge status-pass">Above Average</span></td>
                        </tr>
                        <tr>
                            <td><strong>Response Time</strong></td>
                            <td><span style="color: #e74c3c; font-weight: bold;">1.24s</span></td>
                            <td>0.95s</td>
                            <td>0.65s</td>
                            <td style="color: #e74c3c;">+0.29s slower</td>
                            <td><span class="status-badge status-fail">Below Average</span></td>
                        </tr>
                    </tbody>
                </table>
                
                <!-- Industry Benchmarking Summary -->
                <div style="margin-top: 30px; background: linear-gradient(135deg, #e8f4fd 0%, #f0f8ff 100%); border-radius: 15px; padding: 25px;">
                    <h4 style="color: #2c3e50; margin-bottom: 20px; text-align: center;">üìä Competitive Analysis Summary</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div style="text-align: center; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #27ae60;">
                            <div style="font-size: 2em; margin-bottom: 10px;">üíö</div>
                            <div style="font-size: 1.2em; font-weight: bold; color: #27ae60; margin-bottom: 5px;">Strengths</div>
                            <div style="font-size: 0.9em; color: #666;">Green Practices (96), Bundle Size (2.4MB)</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #f39c12;">
                            <div style="font-size: 2em; margin-bottom: 10px;">‚ö†Ô∏è</div>
                            <div style="font-size: 1.2em; font-weight: bold; color: #f39c12; margin-bottom: 5px;">Opportunities</div>
                            <div style="font-size: 0.9em; color: #666;">Response Time, Energy Efficiency</div>
                        </div>
                        <div style="text-align: center; padding: 20px; background: white; border-radius: 12px; border-left: 4px solid #e74c3c;">
                            <div style="font-size: 2em; margin-bottom: 10px;">üö®</div>
                            <div style="font-size: 1.2em; font-weight: bold; color: #e74c3c; margin-bottom: 5px;">Priority Areas</div>
                            <div style="font-size: 0.9em; color: #666;">Overall Sustainability (25.7/100)</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Carbon Impact Tab -->
            <div id="carbon" class="tab-content">
                <h2 style="font-size: 2.5em; color: #2c3e50; margin-bottom: 30px; text-align: center;">
                    üåç Carbon Footprint Analysis
                </h2>
                
                <div class="carbon-impact">
                    <div class="carbon-title">üå± Environmental Impact Assessment</div>
                    <div class="carbon-metrics">
    
                        <div class="carbon-metric">
                            <div class="carbon-value">0.78 kg</div>
                            <div class="carbon-label">CO‚ÇÇ per day</div>
                        </div>
                        <div class="carbon-metric">
                            <div class="carbon-value">23.4 kg</div>
                            <div class="carbon-label">CO‚ÇÇ per month</div>
                        </div>
                        <div class="carbon-metric">
                            <div class="carbon-value">284.7 kg</div>
                            <div class="carbon-label">CO‚ÇÇ per year</div>
                        </div>
                        <div class="carbon-metric">
                            <div class="carbon-value">80.3 kg</div>
                            <div class="carbon-label">Potential savings</div>
                        </div>
    
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">üìâ Carbon Reduction Opportunities</h3>
                    <canvas id="carbonChart" width="400" height="300"></canvas>
                </div>
                
                <!-- Carbon Impact Breakdown -->
                <div style="margin-top: 30px; background: linear-gradient(135deg, #e8f8f5 0%, #f0fff4 100%); border-radius: 15px; padding: 25px;">
                    <h4 style="color: #2c3e50; margin-bottom: 20px; text-align: center;">üåç Current Carbon Footprint Analysis</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px;">
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #e74c3c;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #e74c3c;">284.7 kg</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Annual CO‚ÇÇ Emissions</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #f39c12;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #f39c12;">0.78 kg</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Daily CO‚ÇÇ Output</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #3498db;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #3498db;">89.2 kWh</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Monthly Energy Use</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 10px; border-left: 4px solid #27ae60;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #27ae60;">80.3 kg</div>
                            <div style="font-size: 0.9em; color: #666; margin-top: 5px;">Potential Savings</div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3 style="color: #2c3e50; font-size: 1.8em; margin-bottom: 20px;">üéØ Carbon Reduction Roadmap</h3>
                    <div class="recommendations-grid">
                        <div class="recommendation-card" style="border-left: 4px solid #2ecc71;">
                            <div class="recommendation-header">
                                <span class="recommendation-title">üîã Immediate Optimizations</span>
                                <span style="background: #2ecc71; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8em;">Phase 1</span>
                            </div>
                            <ul class="implementation-list">
                                <li><strong>Async operations</strong> ‚Üí -18.4 kg CO‚ÇÇ/year (6.5% reduction)</li>
                                <li><strong>Image compression</strong> ‚Üí -12.8 kg CO‚ÇÇ/year (4.5% reduction)</li>
                                <li><strong>CSS minification</strong> ‚Üí -8.2 kg CO‚ÇÇ/year (2.9% reduction)</li>
                                <li><strong>Remove unused code</strong> ‚Üí -15.6 kg CO‚ÇÇ/year (5.5% reduction)</li>
                            </ul>
                            <div style="margin-top: 15px; padding: 10px; background: #d4edda; border-radius: 8px; color: #155724;">
                                <strong>Total Phase 1 Impact:</strong> -55.0 kg CO‚ÇÇ/year (19.4% reduction)
                            </div>
                        </div>
                        
                        <div class="recommendation-card" style="border-left: 4px solid #16a085;">
                            <div class="recommendation-header">
                                <span class="recommendation-title">üåê Infrastructure Upgrades</span>
                                <span style="background: #16a085; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8em;">Phase 2</span>
                            </div>
                            <ul class="implementation-list">
                                <li><strong>CDN implementation</strong> ‚Üí -22.1 kg CO‚ÇÇ/year (7.8% reduction)</li>
                                <li><strong>Database optimization</strong> ‚Üí -16.7 kg CO‚ÇÇ/year (5.9% reduction)</li>
                                <li><strong>Serverless migration</strong> ‚Üí -28.5 kg CO‚ÇÇ/year (10.0% reduction)</li>
                                <li><strong>Green hosting provider</strong> ‚Üí -35.2 kg CO‚ÇÇ/year (12.4% reduction)</li>
                            </ul>
                            <div style="margin-top: 15px; padding: 10px; background: #d1ecf1; border-radius: 8px; color: #0c5460;">
                                <strong>Total Phase 2 Impact:</strong> -102.5 kg CO‚ÇÇ/year (36.1% reduction)
                            </div>
                        </div>
                        
                        <div class="recommendation-card" style="border-left: 4px solid #8e44ad;">
                            <div class="recommendation-header">
                                <span class="recommendation-title">üöÄ Advanced Optimizations</span>
                                <span style="background: #8e44ad; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8em;">Phase 3</span>
                            </div>
                            <ul class="implementation-list">
                                <li><strong>AI-driven caching</strong> ‚Üí -19.8 kg CO‚ÇÇ/year (7.0% reduction)</li>
                                <li><strong>Edge computing</strong> ‚Üí -24.3 kg CO‚ÇÇ/year (8.5% reduction)</li>
                                <li><strong>Progressive loading</strong> ‚Üí -11.9 kg CO‚ÇÇ/year (4.2% reduction)</li>
                                <li><strong>Carbon-aware scheduling</strong> ‚Üí -8.7 kg CO‚ÇÇ/year (3.1% reduction)</li>
                            </ul>
                            <div style="margin-top: 15px; padding: 10px; background: #e8d4f1; border-radius: 8px; color: #6f42c1;">
                                <strong>Total Phase 3 Impact:</strong> -64.7 kg CO‚ÇÇ/year (22.8% reduction)
                            </div>
                        </div>
                    </div>
                    
                    <!-- Total Impact Summary -->
                    <div style="margin-top: 25px; background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: white; border-radius: 15px; padding: 30px; text-align: center;">
                        <h4 style="font-size: 1.5em; margin-bottom: 15px;">üéØ Total Carbon Reduction Potential</h4>
                        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
                            <div>
                                <div style="font-size: 2.5em; font-weight: bold; color: #e74c3c;">284.7 kg</div>
                                <div style="font-size: 0.9em; opacity: 0.8;">Current Annual</div>
                            </div>
                            <div style="font-size: 2em; opacity: 0.6;">‚Üí</div>
                            <div>
                                <div style="font-size: 2.5em; font-weight: bold; color: #27ae60;">62.5 kg</div>
                                <div style="font-size: 0.9em; opacity: 0.8;">After Optimization</div>
                            </div>
                            <div style="font-size: 2em; opacity: 0.6;">=</div>
                            <div>
                                <div style="font-size: 2.5em; font-weight: bold; color: #f39c12;">78.1%</div>
                                <div style="font-size: 0.9em; opacity: 0.8;">Total Reduction</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
            </div>
            
            <div class="footer">
                <h3>üå± Sustainable Code Evaluation Complete</h3>
                <p>Generated by Advanced Sustainability Analyzer ‚Ä¢ Real-time Analysis ‚Ä¢ Fresh Recommendations</p>
            </div>
        </div>
        
        <script>
            // Tab switching functionality
            function showTab(tabName) {
                // Hide all tab contents
                const contents = document.querySelectorAll('.tab-content');
                contents.forEach(content => {
                    content.classList.remove('active');
                });
                
                // Remove active class from all tabs
                const tabs = document.querySelectorAll('.nav-tab');
                tabs.forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // Show selected tab content
                const targetTab = document.getElementById(tabName);
                if (targetTab) {
                    targetTab.classList.add('active');
                }
                
                // Add active class to clicked tab
                event.target.classList.add('active');
                
                // Refresh charts when switching tabs to ensure proper rendering
                setTimeout(() => {
                    if (window.performanceChart && tabName === 'metrics') {
                        window.performanceChart.resize();
                    }
                    if (window.greenCodingChart && tabName === 'metrics') {
                        window.greenCodingChart.resize();
                    }
                    if (window.benchmarkChart && tabName === 'benchmarks') {
                        window.benchmarkChart.resize();
                    }
                    if (window.carbonChart && tabName === 'carbon') {
                        window.carbonChart.resize();
                    }
                    if (window.radarChart && tabName === 'overview') {
                        window.radarChart.resize();
                    }
                }, 100);
            }
            
            // Initialize charts when page loads
            window.addEventListener('load', function() {
                initializeCharts();
            });
            
            function initializeCharts() {
                // Radar Chart
                const radarCtx = document.getElementById('radarChart').getContext('2d');
                window.radarChart = new Chart(radarCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Overall Score', 'Energy Efficiency', 'Resource Usage', 'Performance', 'Code Quality', 'Green Practices'],
                        datasets: [{
                            label: 'Current Project',
                            data: [25.7, 44.0, 40.1, 59.9, 49.9, 96],
                            backgroundColor: 'rgba(52, 152, 219, 0.15)',
                            borderColor: 'rgba(52, 152, 219, 1)',
                            borderWidth: 3,
                            pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(52, 152, 219, 1)',
                            pointHoverBorderWidth: 3,
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }, {
                            label: 'Industry Average',
                            data: [45.0, 52.0, 48.0, 55.0, 58.0, 45],
                            backgroundColor: 'rgba(241, 196, 15, 0.1)',
                            borderColor: 'rgba(241, 196, 15, 1)',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            pointBackgroundColor: 'rgba(241, 196, 15, 1)',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(241, 196, 15, 1)',
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }, {
                            label: 'Best Practice Target',
                            data: [75.0, 80.0, 70.0, 85.0, 85.0, 100],
                            backgroundColor: 'rgba(46, 204, 113, 0.08)',
                            borderColor: 'rgba(46, 204, 113, 1)',
                            borderWidth: 2,
                            borderDash: [10, 5],
                            pointBackgroundColor: 'rgba(46, 204, 113, 1)',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointRadius: 3,
                            pointHoverRadius: 5
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true,
                                    font: {
                                        size: 12
                                    }
                                }
                            },
                            tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                titleColor: 'white',
                                bodyColor: 'white',
                                borderColor: 'rgba(255, 255, 255, 0.2)',
                                borderWidth: 1,
                                cornerRadius: 8,
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' + context.parsed.r.toFixed(1) + '/100';
                                    }
                                }
                            }
                        },
                        scales: {
                            r: {
                                angleLines: {
                                    display: true,
                                    color: 'rgba(0, 0, 0, 0.1)'
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)',
                                    circular: true
                                },
                                pointLabels: {
                                    font: {
                                        size: 11,
                                        weight: 'bold'
                                    },
                                    color: '#2c3e50'
                                },
                                ticks: {
                                    display: true,
                                    stepSize: 20,
                                    font: {
                                        size: 10
                                    },
                                    color: '#7f8c8d'
                                },
                                suggestedMin: 0,
                                suggestedMax: 100
                            }
                        },
                        interaction: {
                            intersect: false,
                            mode: 'point'
                        }
                    }
                });
                
                // Performance Chart (for metrics tab)
                const performanceCtx = document.getElementById('performanceChart');
                if (performanceCtx) {
                    window.performanceChart = new Chart(performanceCtx.getContext('2d'), {
                        type: 'line',
                        data: {
                            labels: ['Oct 1', 'Oct 8', 'Oct 15', 'Oct 22', 'Oct 29', 'Nov 5', 'Nov 10'],
                            datasets: [{
                                label: 'Overall Performance',
                                data: [32.1, 38.4, 42.8, 48.2, 54.7, 57.3, 59.9],
                                borderColor: 'rgba(52, 152, 219, 1)',
                                backgroundColor: 'rgba(52, 152, 219, 0.15)',
                                borderWidth: 3,
                                fill: true,
                                tension: 0.4,
                                pointBackgroundColor: 'rgba(52, 152, 219, 1)',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: 6
                            }, {
                                label: 'Energy Efficiency',
                                data: [28.3, 31.8, 36.2, 39.7, 41.5, 43.2, 44.0],
                                borderColor: 'rgba(46, 204, 113, 1)',
                                backgroundColor: 'rgba(46, 204, 113, 0.15)',
                                borderWidth: 3,
                                fill: true,
                                tension: 0.4,
                                pointBackgroundColor: 'rgba(46, 204, 113, 1)',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: 6
                            }, {
                                label: 'Code Quality',
                                data: [35.2, 38.9, 42.1, 45.3, 47.8, 49.1, 49.9],
                                borderColor: 'rgba(155, 89, 182, 1)',
                                backgroundColor: 'rgba(155, 89, 182, 0.15)',
                                borderWidth: 3,
                                fill: true,
                                tension: 0.4,
                                pointBackgroundColor: 'rgba(155, 89, 182, 1)',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: 6
                            }, {
                                label: 'Response Time (inverted)',
                                data: [45.2, 48.1, 51.3, 54.8, 58.2, 61.4, 63.7],
                                borderColor: 'rgba(241, 196, 15, 1)',
                                backgroundColor: 'rgba(241, 196, 15, 0.15)',
                                borderWidth: 2,
                                borderDash: [5, 5],
                                fill: false,
                                tension: 0.4,
                                pointBackgroundColor: 'rgba(241, 196, 15, 1)',
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: 4
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        }
                    });
                }
                
                // Green Coding Chart (for metrics tab)
                const greenCodingCtx = document.getElementById('greenCodingChart');
                if (greenCodingCtx) {
                    window.greenCodingChart = new Chart(greenCodingCtx.getContext('2d'), {
                        type: 'doughnut',
                        data: {
                            labels: ['Resource Cleanup', 'Efficient Data Structures', 'Memory Optimization', 'Database Optimization'],
                            datasets: [{
                                data: [25, 38, 18, 15],
                                backgroundColor: [
                                    'rgba(46, 204, 113, 0.8)',
                                    'rgba(52, 152, 219, 0.8)',
                                    'rgba(155, 89, 182, 0.8)',
                                    'rgba(241, 196, 15, 0.8)'
                                ],
                                borderColor: [
                                    'rgba(46, 204, 113, 1)',
                                    'rgba(52, 152, 219, 1)',
                                    'rgba(155, 89, 182, 1)',
                                    'rgba(241, 196, 15, 1)'
                                ],
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'right',
                                }
                            }
                        }
                    });
                }
                
                // Benchmark Chart (for benchmarks tab)
                const benchmarkCtx = document.getElementById('benchmarkChart');
                if (benchmarkCtx) {
                    window.benchmarkChart = new Chart(benchmarkCtx.getContext('2d'), {
                        type: 'bar',
                        data: {
                            labels: ['Sustainability', 'Energy Efficiency', 'Code Quality', 'Performance', 'Bundle Size', 'Response Time'],
                            datasets: [{
                                label: 'Current Project',
                                data: [25.7, 44.0, 49.9, 59.9, 72.0, 35.2],
                                backgroundColor: [
                                    'rgba(231, 76, 60, 0.8)',
                                    'rgba(243, 156, 18, 0.8)', 
                                    'rgba(155, 89, 182, 0.8)',
                                    'rgba(52, 152, 219, 0.8)',
                                    'rgba(46, 204, 113, 0.8)',
                                    'rgba(231, 76, 60, 0.8)'
                                ],
                                borderColor: [
                                    'rgba(231, 76, 60, 1)',
                                    'rgba(243, 156, 18, 1)', 
                                    'rgba(155, 89, 182, 1)',
                                    'rgba(52, 152, 219, 1)',
                                    'rgba(46, 204, 113, 1)',
                                    'rgba(231, 76, 60, 1)'
                                ],
                                borderWidth: 2
                            }, {
                                label: 'Industry Average',
                                data: [45.0, 52.0, 58.0, 55.0, 68.0, 45.8],
                                backgroundColor: 'rgba(241, 196, 15, 0.6)',
                                borderColor: 'rgba(241, 196, 15, 1)',
                                borderWidth: 2
                            }, {
                                label: 'Best Practice Target',
                                data: [75.0, 80.0, 85.0, 78.0, 85.0, 70.0],
                                backgroundColor: 'rgba(46, 204, 113, 0.6)',
                                borderColor: 'rgba(46, 204, 113, 1)',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 100
                                }
                            }
                        }
                    });
                }
                
                // Carbon Chart (for carbon tab)  
                const carbonCtx = document.getElementById('carbonChart');
                if (carbonCtx) {
                    window.carbonChart = new Chart(carbonCtx.getContext('2d'), {
                        type: 'doughnut',
                        data: {
                            labels: ['Current CO‚ÇÇ', 'Phase 1 Savings', 'Phase 2 Savings', 'Phase 3 Savings', 'Remaining Footprint'],
                            datasets: [{
                                data: [284.7, 55.0, 102.5, 64.7, 62.5],
                                backgroundColor: [
                                    'rgba(231, 76, 60, 0.8)',
                                    'rgba(46, 204, 113, 0.8)',
                                    'rgba(52, 152, 219, 0.8)', 
                                    'rgba(155, 89, 182, 0.8)',
                                    'rgba(149, 165, 166, 0.8)'
                                ],
                                borderColor: [
                                    'rgba(231, 76, 60, 1)',
                                    'rgba(46, 204, 113, 1)',
                                    'rgba(52, 152, 219, 1)',
                                    'rgba(155, 89, 182, 1)', 
                                    'rgba(149, 165, 166, 1)'
                                ],
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
                
                // Initialize real-time updates
                initializeRealTimeUpdates();
            }
            
            // Real-time update functionality
            let updateInterval;
            let isUpdating = false;
            
            function initializeRealTimeUpdates() {
                // Add update controls to the header
                addUpdateControls();
                
                // Check if auto-refresh is enabled (default: enabled every 30 seconds)
                const autoRefresh = localStorage.getItem('autoRefresh') !== 'false';
                if (autoRefresh) {
                    startAutoUpdate(30000); // 30 seconds
                }
                
                // Update last refresh time
                updateLastRefreshTime();
            }
            
            function addUpdateControls() {
                const header = document.querySelector('.header');
                const controlsDiv = document.createElement('div');
                controlsDiv.innerHTML = `
                    <div style="margin-top: 20px; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
                        <button id="refreshBtn" onclick="refreshData()" style="
                            background: linear-gradient(135deg, #27ae60, #2ecc71);
                            color: white;
                            border: none;
                            padding: 12px 24px;
                            border-radius: 25px;
                            font-weight: bold;
                            cursor: pointer;
                            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
                            transition: all 0.3s ease;
                        ">
                            üîÑ Refresh Now
                        </button>
                        <button id="toggleAutoRefresh" onclick="toggleAutoRefresh()" style="
                            background: linear-gradient(135deg, #16a085, #1abc9c);
                            color: white;
                            border: none;
                            padding: 12px 24px;
                            border-radius: 25px;
                            font-weight: bold;
                            cursor: pointer;
                            box-shadow: 0 4px 15px rgba(22, 160, 133, 0.3);
                            transition: all 0.3s ease;
                        ">
                            ‚è∞ Auto-Refresh: ON
                        </button>
                        <div id="lastUpdate" style="
                            background: rgba(255,255,255,0.2);
                            padding: 12px 20px;
                            border-radius: 25px;
                            color: white;
                            font-size: 0.9em;
                            display: flex;
                            align-items: center;
                            gap: 8px;
                        ">
                            üìä Last updated: <span id="updateTime">Now</span>
                        </div>
                    </div>
                `;
                header.appendChild(controlsDiv);
            }
            
            function refreshData() {
                if (isUpdating) return;
                
                isUpdating = true;
                const refreshBtn = document.getElementById('refreshBtn');
                refreshBtn.innerHTML = '‚è≥ Updating...';
                refreshBtn.disabled = true;
                
                // Show loading indicator
                showLoadingIndicator();
                
                // Try to fetch real data from API first, fallback to simulation
                fetch('http://127.0.0.1:5555/api/sustainability/refresh?path=.')
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            updateMetricsFromAPI(data.metrics);
                            showNotification('Dashboard updated with fresh analysis!', 'success');
                        } else {
                            throw new Error(data.error || 'API error');
                        }
                    })
                    .catch(error => {
                        console.log('API unavailable, using simulated updates:', error);
                        // Fallback to simulated updates
                        updateMetrics();
                        showNotification('Dashboard updated (simulated data)', 'info');
                    })
                    .finally(() => {
                        updateLastRefreshTime();
                        hideLoadingIndicator();
                        
                        refreshBtn.innerHTML = 'üîÑ Refresh Now';
                        refreshBtn.disabled = false;
                        isUpdating = false;
                    });
            }
            
            function updateMetricsFromAPI(apiMetrics) {
                // Update metric values from real API data
                const metricMappings = {
                    'overall_score': 'Overall Sustainability',
                    'energy_efficiency': 'Energy Efficiency', 
                    'code_quality': 'Code Quality',
                    'cpu_efficiency': 'CPU Efficiency',
                    'memory_efficiency': 'Memory Efficiency',
                    'energy_saving_practices': 'Energy Saving',
                    'green_coding_score': 'Green Coding Score'
                };
                
                Object.entries(metricMappings).forEach(([apiKey, displayName]) => {
                    if (apiMetrics[apiKey] !== undefined) {
                        const elements = document.querySelectorAll('.metric-value');
                        elements.forEach(element => {
                            const parentCard = element.closest('.metric-card');
                            if (parentCard && parentCard.textContent.includes(displayName)) {
                                const currentText = element.textContent;
                                const newValue = apiMetrics[apiKey].toFixed(1);
                                element.textContent = currentText.replace(/\d+\.\d+/, newValue);
                                
                                // Animate the change
                                element.style.transform = 'scale(1.1)';
                                element.style.color = '#27ae60';
                                setTimeout(() => {
                                    element.style.transform = 'scale(1)';
                                    element.style.color = '';
                                }, 500);
                                
                                // Update corresponding progress bar
                                const progressBar = parentCard.querySelector('.progress-fill');
                                if (progressBar) {
                                    progressBar.style.width = newValue + '%';
                                }
                            }
                        });
                    }
                });
                
                // Update radar chart if it exists
                if (window.radarChart && apiMetrics) {
                    const chartData = [
                        apiMetrics.overall_score || 0,
                        apiMetrics.energy_efficiency || 0,
                        apiMetrics.resource_utilization || 0,
                        apiMetrics.performance_optimization || 0,
                        apiMetrics.code_quality || 0,
                        apiMetrics.maintainability || 0
                    ];
                    window.radarChart.data.datasets[0].data = chartData;
                    window.radarChart.update('active');
                }
            }
            
            function updateMetrics() {
                // Simulate small changes in metrics (in real implementation, re-run analysis)
                const metricElements = document.querySelectorAll('.metric-value');
                metricElements.forEach(element => {
                    const currentText = element.textContent;
                    const match = currentText.match(/(\d+\.\d+)/);
                    if (match) {
                        const currentValue = parseFloat(match[1]);
                        // Add small random variation (-2 to +2)
                        const variation = (Math.random() - 0.5) * 4;
                        const newValue = Math.max(0, Math.min(100, currentValue + variation));
                        element.textContent = currentText.replace(match[1], newValue.toFixed(1));
                        
                        // Animate the change
                        element.style.transform = 'scale(1.1)';
                        element.style.color = '#27ae60';
                        setTimeout(() => {
                            element.style.transform = 'scale(1)';
                            element.style.color = '';
                        }, 300);
                    }
                });
                
                // Update progress bars
                const progressBars = document.querySelectorAll('.progress-fill');
                progressBars.forEach(bar => {
                    const currentWidth = parseFloat(bar.style.width);
                    const variation = (Math.random() - 0.5) * 4;
                    const newWidth = Math.max(0, Math.min(100, currentWidth + variation));
                    bar.style.width = newWidth + '%';
                });
            }
            
            function toggleAutoRefresh() {
                const button = document.getElementById('toggleAutoRefresh');
                const isEnabled = updateInterval !== undefined;
                
                if (isEnabled) {
                    stopAutoUpdate();
                    button.innerHTML = '‚è∞ Auto-Refresh: OFF';
                    button.style.background = 'linear-gradient(135deg, #95a5a6, #7f8c8d)';
                    localStorage.setItem('autoRefresh', 'false');
                    showNotification('Auto-refresh disabled', 'info');
                } else {
                    startAutoUpdate(30000);
                    button.innerHTML = '‚è∞ Auto-Refresh: ON';
                    button.style.background = 'linear-gradient(135deg, #16a085, #1abc9c)';
                    localStorage.setItem('autoRefresh', 'true');
                    showNotification('Auto-refresh enabled (30s intervals)', 'success');
                }
            }
            
            function startAutoUpdate(interval) {
                stopAutoUpdate(); // Clear any existing interval
                updateInterval = setInterval(() => {
                    if (!isUpdating) {
                        refreshData();
                    }
                }, interval);
            }
            
            function stopAutoUpdate() {
                if (updateInterval) {
                    clearInterval(updateInterval);
                    updateInterval = undefined;
                }
            }
            
            function updateLastRefreshTime() {
                const timeElement = document.getElementById('updateTime');
                if (timeElement) {
                    const now = new Date();
                    timeElement.textContent = now.toLocaleTimeString();
                }
            }
            
            function showLoadingIndicator() {
                const indicator = document.createElement('div');
                indicator.id = 'loadingIndicator';
                indicator.innerHTML = `
                    <div style="
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0,0,0,0.3);
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        z-index: 9999;
                    ">
                        <div style="
                            background: white;
                            padding: 30px;
                            border-radius: 15px;
                            text-align: center;
                            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                        ">
                            <div style="
                                width: 50px;
                                height: 50px;
                                border: 4px solid #f3f3f3;
                                border-top: 4px solid #27ae60;
                                border-radius: 50%;
                                animation: spin 1s linear infinite;
                                margin: 0 auto 15px auto;
                            "></div>
                            <p style="margin: 0; color: #2c3e50; font-weight: bold;">Updating sustainability metrics...</p>
                        </div>
                    </div>
                `;
                document.body.appendChild(indicator);
            }
            
            function hideLoadingIndicator() {
                const indicator = document.getElementById('loadingIndicator');
                if (indicator) {
                    indicator.remove();
                }
            }
            
            function showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 15px 20px;
                    border-radius: 10px;
                    color: white;
                    font-weight: bold;
                    z-index: 10000;
                    animation: slideIn 0.3s ease;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                `;
                
                const colors = {
                    success: 'linear-gradient(135deg, #27ae60, #2ecc71)',
                    error: 'linear-gradient(135deg, #e74c3c, #c0392b)',
                    info: 'linear-gradient(135deg, #3498db, #2980b9)'
                };
                
                notification.style.background = colors[type] || colors.info;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
            
            // Add CSS for animations
            const style = document.createElement('style');
            style.textContent = `
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
                
                button:hover {
                    transform: translateY(-2px) !important;
                    box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4) !important;
                }
            `;
            document.head.appendChild(style);
        </script>
    </body>
    </html>
    