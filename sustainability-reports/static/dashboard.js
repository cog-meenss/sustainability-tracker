// Minimal dashboard script generated by sustainability_evaluator
(function(){
    try {
        const el = document.getElementById('report-data');
        const data = el ? JSON.parse(el.textContent || '{}') : {};

        // Simple render: show overall score in the header if present
        const header = document.querySelector('.container h1');
        if (header && data.sustainability_metrics && data.sustainability_metrics.overall_score !== undefined) {
            const score = data.sustainability_metrics.overall_score;
            const badge = document.createElement('span');
            badge.textContent = ` Overall: ${score}/100`;
            badge.style.marginLeft = '12px';
            badge.style.padding = '4px 10px';
            badge.style.borderRadius = '8px';
            badge.style.background = '#2ecc71';
            badge.style.color = 'white';
            badge.style.fontWeight = '700';
            header.appendChild(badge);
        }

        // Add click handler to file rows to copy path
        document.querySelectorAll('table tbody tr').forEach(function(tr){
            tr.addEventListener('click', function(){
                const code = tr.querySelector('code');
                if (code) {
                    navigator.clipboard && navigator.clipboard.writeText(code.textContent);
                }
            });
        });
    } catch(e) {
        console.error('dashboard.js error', e);
    }
})();
